const Mascot=function(){var e,a,s,n,o,i,c,r,l,h,m,d,u,p,y="default",f=null,g=!1,_=0,k=null,C=!1,b={splash_step1:"mascotSplash1",splash_step2:"mascotSplash2",splash_step3:"mascotSplash3",splash_step4:"mascotSplash4",hero_greeting:"mascotHeroGreeting",quiz_correct:["mascotCorrect1","mascotCorrect2","mascotCorrect3","mascotCorrect4","mascotCorrect5"],quiz_wrong:["mascotWrong1","mascotWrong2","mascotWrong3","mascotWrong4","mascotWrong5"],results_great:"mascotResultsGreat",results_good:"mascotResultsGood",results_try:"mascotResultsTry",thinking:"mascotThinking",idle_tips:["mascotTip1","mascotTip2","mascotTip3","mascotTip4","mascotTip5","mascotTip6","mascotTip7","mascotTip8","mascotTip9","mascotTip10"],greet_quiz:"mascotGreetQuiz",greet_fill:"mascotGreetFill",greet_tf:"mascotGreetTF",greet_listen:"mascotGreetListen",greet_scramble:"mascotGreetScramble",greet_matching:"mascotGreetMatching",greet_landmarks:"mascotGreetLandmarks",greet_traditions:"mascotGreetTraditions",greet_food:"mascotGreetFood",greet_arabic:"mascotGreetArabic",greet_timeline:"mascotGreetTimeline",chat_hello:"mascotChatHello",chat_name:"mascotChatName",chat_help:"mascotChatHelp",chat_uae:"mascotChatUAE",chat_food:"mascotChatFood",chat_landmarks:"mascotChatLandmarks",chat_traditions:"mascotChatTraditions",chat_arabic:"mascotChatArabic",chat_games:"mascotChatGames",chat_bye:"mascotChatBye",chat_thanks:"mascotChatThanks",chat_love:"mascotChatLove",chat_who:"mascotChatWho",chat_fallback:["mascotChatFallback1","mascotChatFallback2","mascotChatFallback3"],chat_ask:"mascotChatAsk",chat_abudhabi:"mascotChatAbuDhabi",chat_dubai:"mascotChatDubai",chat_sharjah:"mascotChatSharjah",chat_ajman:"mascotChatAjman",chat_fujairah:"mascotChatFujairah",chat_rak:"mascotChatRAK",chat_uaq:"mascotChatUAQ",chat_burjkhalifa:"mascotChatBurjKhalifa",chat_mosque:"mascotChatMosque",chat_flag:"mascotChatFlag",chat_oil:"mascotChatOil",chat_desert:"mascotChatDesert",chat_dates:"mascotChatDates",chat_nationalday:"mascotChatNationalDay",chat_weather:"mascotChatWeather",chat_school:"mascotChatSchool",chat_animals:"mascotChatAnimals",chat_space:"mascotChatSpace",chat_currency:"mascotChatCurrency",chat_sports:"mascotChatSports"},v=[{keys:["hello","hi","hey","marhaba","hala","salam","Ø§Ù„Ø³Ù„Ø§Ù…","Ù…Ø±Ø­Ø¨Ø§","Ù‡Ù„Ø§"],reply:"chat_hello"},{keys:["name","who are you","your name","Ø§Ø³Ù…Ùƒ","Ù…Ù† Ø§Ù†Øª"],reply:"chat_who"},{keys:["help","how","what do","Ù…Ø³Ø§Ø¹Ø¯Ø©","ÙƒÙŠÙ"],reply:"chat_help"},{keys:["food","eat","machboos","luqaimat","harees","Ø·Ø¹Ø§Ù…","Ø£ÙƒÙ„","Ù…Ø¬Ø¨ÙˆØ³","Ù„Ù‚ÙŠÙ…Ø§Øª","Ù‡Ø±ÙŠØ³"],reply:"chat_food"},{keys:["tradition","falcon","pearl","camel","heritage","ØªØ±Ø§Ø«","ØµÙ‚Ø±","Ù„Ø¤Ù„Ø¤","Ø¬Ù…Ù„"],reply:"chat_traditions"},{keys:["arabic","word","language","speak","Ø¹Ø±Ø¨ÙŠ","ÙƒÙ„Ù…Ø©","Ù„ØºØ©"],reply:"chat_arabic"},{keys:["game","quiz","play","score","Ù„Ø¹Ø¨Ø©","Ø§Ø®ØªØ¨Ø§Ø±","Ø§Ù„Ø¹Ø¨","Ù†Ù‚Ø§Ø·"],reply:"chat_games"},{keys:["bye","goodbye","see you","Ù…Ø¹ Ø§Ù„Ø³Ù„Ø§Ù…Ø©","Ø¨Ø§ÙŠ"],reply:"chat_bye"},{keys:["thank","thanks","Ø´ÙƒØ±","Ø´ÙƒØ±Ø§Ù‹"],reply:"chat_thanks"},{keys:["love","cute","like you","Ø£Ø­Ø¨Ùƒ","Ø­Ù„Ùˆ"],reply:"chat_love"},{keys:["abu dhabi","abudhabi","Ø£Ø¨ÙˆØ¸Ø¨ÙŠ","Ø£Ø¨Ùˆ Ø¸Ø¨ÙŠ","capital"],reply:"chat_abudhabi"},{keys:["dubai","Ø¯Ø¨ÙŠ"],reply:"chat_dubai"},{keys:["sharjah","Ø§Ù„Ø´Ø§Ø±Ù‚Ø©","Ø´Ø§Ø±Ù‚Ø©"],reply:"chat_sharjah"},{keys:["ajman","Ø¹Ø¬Ù…Ø§Ù†"],reply:"chat_ajman"},{keys:["fujairah","Ø§Ù„ÙØ¬ÙŠØ±Ø©","ÙØ¬ÙŠØ±Ø©"],reply:"chat_fujairah"},{keys:["ras al khaimah","rak","Ø±Ø£Ø³ Ø§Ù„Ø®ÙŠÙ…Ø©"],reply:"chat_rak"},{keys:["umm al quwain","uaq","Ø£Ù… Ø§Ù„Ù‚ÙŠÙˆÙŠÙ†"],reply:"chat_uaq"},{keys:["burj khalifa","burj","khalifa","tallest","Ø¨Ø±Ø¬ Ø®Ù„ÙŠÙØ©"],reply:"chat_burjkhalifa"},{keys:["mosque","zayed mosque","grand mosque","Ù…Ø³Ø¬Ø¯","Ù…Ø³Ø¬Ø¯ Ø²Ø§ÙŠØ¯"],reply:"chat_mosque"},{keys:["flag","colors","Ø¹Ù„Ù…","Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¹Ù„Ù…"],reply:"chat_flag"},{keys:["oil","petroleum","Ù†ÙØ·","Ø¨ØªØ±ÙˆÙ„"],reply:"chat_oil"},{keys:["desert","sand","ØµØ­Ø±Ø§Ø¡","Ø±Ù…Ù„","Ø§Ù„Ø±Ø¨Ø¹ Ø§Ù„Ø®Ø§Ù„ÙŠ"],reply:"chat_desert"},{keys:["date","dates","ØªÙ…Ø±","ØªÙ…ÙˆØ±"],reply:"chat_dates"},{keys:["national day","december 2","Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ÙˆØ·Ù†ÙŠ","2 Ø¯ÙŠØ³Ù…Ø¨Ø±"],reply:"chat_nationalday"},{keys:["weather","hot","temperature","Ø·Ù‚Ø³","Ø­Ø§Ø±","Ø­Ø±Ø§Ø±Ø©"],reply:"chat_weather"},{keys:["school","education","study","Ù…Ø¯Ø±Ø³Ø©","ØªØ¹Ù„ÙŠÙ…","Ø¯Ø±Ø§Ø³Ø©"],reply:"chat_school"},{keys:["animal","oryx","dolphin","turtle","Ø­ÙŠÙˆØ§Ù†","Ù…Ù‡Ø§","Ø¯Ù„ÙÙŠÙ†"],reply:"chat_animals"},{keys:["space","mars","hope probe","ÙØ¶Ø§Ø¡","Ø§Ù„Ù…Ø±ÙŠØ®","Ù…Ø³Ø¨Ø§Ø± Ø§Ù„Ø£Ù…Ù„"],reply:"chat_space"},{keys:["currency","dirham","money","Ø¹Ù…Ù„Ø©","Ø¯Ø±Ù‡Ù…","ÙÙ„ÙˆØ³"],reply:"chat_currency"},{keys:["sport","football","cricket","racing","Ø±ÙŠØ§Ø¶Ø©","ÙƒØ±Ø©","Ø³Ø¨Ø§Ù‚"],reply:"chat_sports"},{keys:["uae","emirates","Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª","Ø¥Ù…Ø§Ø±Ø§Øª"],reply:"chat_uae"},{keys:["landmark","museum","Ù…Ø¹Ø§Ù„Ù…","Ù…ØªØ­Ù"],reply:"chat_landmarks"}];function G(){var t,f;(e=document.getElementById("mascotContainer"),document.getElementById("mascotCharacter"),a=document.getElementById("mascotHearts"),s=document.getElementById("rashidChatPanel"),n=document.getElementById("rashidChatMessages"),o=document.getElementById("rashidChatField"),i=document.getElementById("rashidChatSend"),c=document.getElementById("rashidChatClose"),r=document.getElementById("rashidGamesMenuBtn"),l=document.getElementById("rashidGamesMenu"),h=document.getElementById("rashidGamesMenuGrid"),m=document.getElementById("rashidGamesMenuBack"),u=document.getElementById("rashidHappinessFill"),p=document.getElementById("rashidHappinessLabel"),e)&&(y=function(){var e=window.location.pathname;if("/"===e||""===e){var t=document.getElementById("splashOverlay");return t&&"none"!==t.style.display?"splash":"hero"}return-1!==e.indexOf("quiz")?"quiz":-1!==e.indexOf("matching")?"matching":-1!==e.indexOf("fill-blank")?"fill-blank":-1!==e.indexOf("true-false")?"true-false":-1!==e.indexOf("listening")?"listening":-1!==e.indexOf("scramble")?"scramble":-1!==e.indexOf("timeline")?"timeline":-1!==e.indexOf("landmarks")||-1!==e.indexOf("traditions")||-1!==e.indexOf("food")||-1!==e.indexOf("arabic")?"learn":"default"}(),_=parseInt(localStorage.getItem("uaequest_rashid_happiness")||"0"),z(),o&&"function"==typeof getLang&&"ar"===getLang()&&(o.placeholder="Ø§Ø³Ø£Ù„Ù†ÙŠ Ø£ÙŠ Ø´ÙŠØ¡..."),c&&c.addEventListener("click",function(e){e.stopPropagation(),L()}),i&&i.addEventListener("click",function(e){e.stopPropagation(),O()}),o&&(o.addEventListener("keydown",function(e){e.stopPropagation(),"Enter"===e.key&&O()}),o.addEventListener("click",function(e){e.stopPropagation()})),r&&r.addEventListener("click",function(e){e.stopPropagation(),function(){if(!l)return;"none"!==l.style.display&&l.style.display?j():S()}()}),m&&m.addEventListener("click",function(e){e.stopPropagation(),j()}),(d=document.getElementById("rashidGamesFloatingBtn"))&&d.addEventListener("click",function(e){e.stopPropagation(),x()}),s&&s.addEventListener("click",function(e){e.stopPropagation()}),e.addEventListener("click",P),e.addEventListener("mouseenter",H),e.addEventListener("mouseleave",N),E("idle"),"undefined"!=typeof ChatGames&&h&&ChatGames.renderMenu(h),t={quiz:b.greet_quiz,"fill-blank":b.greet_fill,"true-false":b.greet_tf,listening:b.greet_listen,scramble:b.greet_scramble,matching:b.greet_matching,timeline:b.greet_timeline},f=window.location.pathname,"hero"===y?(k=I(b.hero_greeting),setTimeout(function(){E("wave"),setTimeout(function(){E("idle")},2500)},1500)):t[y]?(k=I(t[y]),setTimeout(function(){E("wave"),setTimeout(function(){E("idle")},2500)},1500)):-1!==f.indexOf("landmarks")?k=I(b.greet_landmarks):-1!==f.indexOf("traditions")?k=I(b.greet_traditions):-1!==f.indexOf("food")?k=I(b.greet_food):-1!==f.indexOf("arabic")&&(k=I(b.greet_arabic)))}function E(t){e&&(e.className=e.className.replace(/mascot-(idle|wave|celebrate|talk|think|sad)/g,"").trim(),e.classList.add("mascot-"+t))}function T(){s&&(g=!0,s.classList.add("open"),E("wave"),setTimeout(function(){E("idle")},1500),!C&&k?(M(k),C=!0):C||(M(I(b.chat_ask)),C=!0),o&&setTimeout(function(){o.focus()},300))}function L(){s&&(g=!1,s.classList.remove("open"),j())}function w(){g?L():T()}function x(){g||T(),setTimeout(S,150)}function M(e){if(n){var t=document.createElement("div");t.className="rashid-msg rashid-msg-bot",t.textContent=e,n.appendChild(t),B(),E("talk"),setTimeout(function(){E("idle")},800)}}function q(e){if(n){var t=document.createElement("div");t.className="rashid-msg rashid-msg-user",t.textContent=e,n.appendChild(t),B()}}function B(){n&&(n.scrollTop=n.scrollHeight)}function I(e){var a=e;return Array.isArray(e)&&(a=e[Math.floor(Math.random()*e.length)]),"function"==typeof t?t(a):a}function O(){if(o){var e=o.value.trim();if(e)if(o.value="",q(e),A(1),"undefined"!=typeof ChatGames&&ChatGames.isGameActive())ChatGames.handleInput(e);else{var t=e.toLowerCase();if("quit"!==t&&"stop"!==t&&"exit"!==t){var a=function(e){for(var t=e.toLowerCase(),a=0;a<v.length;a++)for(var s=v[a],n=0;n<s.keys.length;n++){if(-1!==t.indexOf(s.keys[n]))return b[s.reply]}if(Math.random()<.3)return b.idle_tips[Math.floor(Math.random()*b.idle_tips.length)];return b.chat_fallback}(e);M(I(a)),setTimeout(function(){o&&o.focus()},100)}else"undefined"!=typeof ChatGames&&ChatGames.isGameActive()?ChatGames.cancelGame():M(I(b.chat_bye))}}}function S(){l&&(l.style.display="flex","undefined"!=typeof ChatGames&&h&&ChatGames.renderMenu(h))}function j(){l&&(l.style.display="none")}function A(e){_=Math.min(100,_+e),localStorage.setItem("uaequest_rashid_happiness",_.toString()),z(),_>=50&&"function"==typeof awardAchievement&&awardAchievement("happy_rashid")}function z(){u&&(u.style.width=_+"%"),p&&(p.textContent=_>=75?"ğŸ¥°":_>=50?"ğŸ˜„":_>=25?"ğŸ˜Š":"ğŸ™‚")}function F(){if(a){var e=document.createElement("span");e.className="mascot-heart",e.textContent=["â¤ï¸","ğŸ’›","âœ¨","â­"][Math.floor(4*Math.random())],e.style.left=40*Math.random()-20+"px",a.appendChild(e),setTimeout(function(){e.remove()},1200)}}function H(){F(),f=setInterval(F,400)}function N(){f&&(clearInterval(f),f=null)}function P(){w()}return document.addEventListener("DOMContentLoaded",G),{init:G,setState:E,openChat:T,closeChat:L,toggleChat:w,openChatWithGames:x,addBotMessage:M,addUserMessage:q,addSystemMessage:function(e){if(n){var t=document.createElement("div");t.className="rashid-msg rashid-msg-system",t.textContent=e,n.appendChild(t),B()}},addGameGrid:function(e){if(n){var t=document.createElement("div");t.className="rashid-msg rashid-msg-bot";var a=document.createElement("div");a.className="rashid-game-grid",a.innerHTML=e,t.appendChild(a),n.appendChild(t),B()}},addHappiness:A,getHappiness:function(){return _},hideGamesMenu:j,onCorrect:function(){E("celebrate"),g&&M(I(b.quiz_correct)),A(2),setTimeout(function(){E("idle")},2500)},onWrong:function(){E("sad"),g&&M(I(b.quiz_wrong)),setTimeout(function(){E("idle")},3e3)},onThink:function(){E("think")},onResults:function(e){e>=3?(E("celebrate"),g&&M(I(b.results_great))):e>=2?(E("celebrate"),g&&M(I(b.results_good))):(E("sad"),g&&M(I(b.results_try))),A(1)},onSplashStep:function(e){var t={1:{key:b.splash_step1,state:"wave"},2:{key:b.splash_step2,state:"idle"},3:{key:b.splash_step3,state:"celebrate"},4:{key:b.splash_step4,state:"think"}}[e];t&&(E(t.state),"idle"!==t.state&&"think"!==t.state&&setTimeout(function(){E("idle")},2500))},show:function(){e&&e.classList.remove("mascot-hidden")},hide:function(){e&&e.classList.add("mascot-hidden")},setSize:function(t){e&&(e.classList.remove("mascot-large"),"large"===t&&e.classList.add("mascot-large"))}}}();