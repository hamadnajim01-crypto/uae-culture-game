const PATH_ORDER=["landmarks","traditions","food","arabic","quiz","matching","fill-blank","scramble","true-false","listening","timeline"];function updateLearningPath(){const e=getCompletedNodes();let n=PATH_ORDER.length;for(let t=0;t<PATH_ORDER.length;t++)if(!e.includes(PATH_ORDER[t])){n=t;break}document.querySelectorAll(".path-node").forEach(t=>{const d=t.dataset.node,a=PATH_ORDER.indexOf(d),s=e.includes(d),c=a<=n,i=a===n;t.classList.remove("completed","locked","current"),s?t.classList.add("completed"):i?t.classList.add("current"):c||(t.classList.add("locked"),t.removeAttribute("href"),t.style.pointerEvents="none")});const t=document.querySelector(".path-finish");t&&e.length===PATH_ORDER.length&&t.classList.add("unlocked")}function renderBadges(){const e=document.getElementById("badgesGrid");if(!e)return;const n=getEarnedAchievements();e.innerHTML=ACHIEVEMENTS.map(e=>{const t=n.includes(e.id);return`\n      <div class="badge-card ${t?"earned":"locked"}">\n        <div class="badge-icon">${t?e.emoji:"ðŸ”’"}</div>\n        <div class="badge-name">${e.name}</div>\n        <div class="badge-desc">${e.desc}</div>\n      </div>\n    `}).join("")}document.addEventListener("DOMContentLoaded",()=>{updateLearningPath(),renderBadges();const e=document.getElementById("heroPlayerName");if(e){const n=getPlayerName();e.textContent=n.toUpperCase()}});