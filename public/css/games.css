/* ===== GAMES HUB ===== */
.games-hub { max-width: 1100px; margin: 0 auto; padding: 0 1rem 2rem; }

.games-tabs {
  display: flex; gap: 8px; justify-content: center; flex-wrap: wrap;
  margin-bottom: 1.5rem;
}
.games-tab {
  padding: 8px 18px; border-radius: 20px; border: 1.5px solid rgba(255,215,0,0.3);
  background: rgba(255,255,255,0.04); color: rgba(255,255,255,0.7);
  font-family: 'Inter',sans-serif; font-size: 0.85rem; font-weight: 600;
  cursor: pointer; transition: all 0.25s;
}
.games-tab:hover { border-color: #FFD700; color: #FFD700; background: rgba(255,215,0,0.06); }
.games-tab.active { background: linear-gradient(135deg,#FFD700,#FF6B35); color: #000; border-color: transparent; box-shadow: 0 4px 15px rgba(255,215,0,0.25); }

.games-grid {
  display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 14px;
}
.game-card {
  background: rgba(255,255,255,0.04); border: 1.5px solid rgba(255,215,0,0.12);
  border-radius: 16px; padding: 20px 10px 14px; text-align: center;
  cursor: pointer; transition: all 0.3s cubic-bezier(0.4,0,0.2,1); position: relative; overflow: hidden;
}
.game-card::before {
  content: ''; position: absolute; inset: 0; border-radius: 16px;
  background: radial-gradient(circle at 50% 0%, rgba(255,215,0,0.06), transparent 70%);
  opacity: 0; transition: opacity 0.3s;
}
.game-card:hover::before { opacity: 1; }
.game-card:hover {
  border-color: #FFD700; transform: translateY(-6px);
  box-shadow: 0 12px 32px rgba(255,215,0,0.18);
}
.game-card:active { transform: translateY(-2px) scale(0.98); }
.game-card[data-cat="arcade"] { border-color: rgba(255,107,53,0.2); }
.game-card[data-cat="arcade"]:hover { border-color: #FF6B35; box-shadow: 0 12px 32px rgba(255,107,53,0.15); }
.game-card[data-cat="board"] { border-color: rgba(0,201,167,0.2); }
.game-card[data-cat="board"]:hover { border-color: #00C9A7; box-shadow: 0 12px 32px rgba(0,201,167,0.15); }
.game-card[data-cat="word"] { border-color: rgba(78,205,196,0.2); }
.game-card[data-cat="word"]:hover { border-color: #4ecdc4; box-shadow: 0 12px 32px rgba(78,205,196,0.15); }
.game-card[data-cat="trivia"] { border-color: rgba(155,89,182,0.2); }
.game-card[data-cat="trivia"]:hover { border-color: #9b59b6; box-shadow: 0 12px 32px rgba(155,89,182,0.15); }
.game-card[data-cat="fun"] { border-color: rgba(255,107,107,0.2); }
.game-card[data-cat="fun"]:hover { border-color: #ff6b6b; box-shadow: 0 12px 32px rgba(255,107,107,0.15); }
.game-card-emoji { font-size: 2.4rem; margin-bottom: 8px; display: block; transition: transform 0.3s; }
.game-card:hover .game-card-emoji { transform: scale(1.15) rotate(-5deg); }
.game-card-name {
  font-family: 'Orbitron',sans-serif; font-size: 0.7rem; font-weight: 700;
  color: #fff; text-transform: uppercase; letter-spacing: 0.5px;
}
.game-card-cat {
  display: inline-block; margin-top: 6px; padding: 2px 8px; border-radius: 8px;
  font-size: 0.6rem; font-weight: 600; text-transform: uppercase;
  background: rgba(255,215,0,0.12); color: #FFD700;
}
.game-card[data-cat="arcade"] .game-card-cat { background: rgba(255,107,53,0.15); color: #FF6B35; }
.game-card[data-cat="board"] .game-card-cat { background: rgba(0,201,167,0.15); color: #00C9A7; }
.game-card[data-cat="word"] .game-card-cat { background: rgba(78,205,196,0.15); color: #4ecdc4; }
.game-card[data-cat="trivia"] .game-card-cat { background: rgba(155,89,182,0.15); color: #9b59b6; }
.game-card[data-cat="fun"] .game-card-cat { background: rgba(255,107,107,0.15); color: #ff6b6b; }
.game-card-2p {
  position: absolute; top: 6px; right: 6px; background: linear-gradient(135deg,#00C9A7,#4ecdc4); color: #000;
  font-size: 0.55rem; font-weight: 800; padding: 2px 6px; border-radius: 6px;
  box-shadow: 0 2px 8px rgba(0,201,167,0.3);
}

/* ===== GAME OVERLAY ===== */
.game-overlay {
  position: fixed; inset: 0; z-index: 10000;
  background: linear-gradient(180deg, #070709 0%, #0d0d15 100%);
  display: none; flex-direction: column;
}
.game-overlay.open { display: flex; animation: fadeIn 0.25s ease-out; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

.game-topbar {
  display: flex; align-items: center; gap: 12px; padding: 10px 16px;
  background: rgba(255,255,255,0.03); border-bottom: 1px solid rgba(255,215,0,0.12);
  flex-shrink: 0; backdrop-filter: blur(10px);
}
.game-back-btn {
  background: none; border: 1.5px solid rgba(255,215,0,0.3); color: #FFD700;
  padding: 6px 14px; border-radius: 10px; cursor: pointer; font-weight: 600;
  font-size: 0.85rem; transition: all 0.2s;
}
.game-back-btn:hover { background: rgba(255,215,0,0.12); transform: scale(1.05); }
.game-topbar-info { display: flex; align-items: center; gap: 8px; flex: 1; }
.game-topbar-emoji { font-size: 1.4rem; }
.game-topbar-name { font-family: 'Orbitron',sans-serif; font-size: 0.9rem; color: #fff; font-weight: 700; }
.game-topbar-score {
  font-family: 'Orbitron',sans-serif; font-size: 0.85rem; color: #FFD700;
  background: rgba(255,215,0,0.08); padding: 4px 12px; border-radius: 8px;
}
.game-topbar-diff {
  font-size: 0.75rem; font-weight: 700; padding: 4px 12px; border-radius: 8px;
  background: rgba(255,215,0,0.1); color: #FFD700;
}

/* ===== MODE SELECT SCREEN ===== */
.game-mode-screen {
  flex: 1; display: flex; align-items: center; justify-content: center; gap: 40px;
  padding: 20px; animation: fadeIn 0.3s ease;
}
.game-mode-card {
  background: linear-gradient(145deg, rgba(20,20,35,0.95), rgba(15,15,25,0.95));
  border: 2px solid rgba(255,215,0,0.25);
  border-radius: 24px; padding: 32px 40px; text-align: center; max-width: 360px; width: 100%;
  box-shadow: 0 16px 48px rgba(0,0,0,0.5);
}
.game-mode-emoji { font-size: 3.5rem; margin-bottom: 8px; animation: bounce 0.5s ease; }
.game-mode-title { font-family: 'Orbitron',sans-serif; color: #FFD700; font-size: 1.3rem; margin-bottom: 22px; text-shadow: 0 0 15px rgba(255,215,0,0.2); }
.game-mode-section { margin-bottom: 20px; }
.game-mode-label { font-size: 0.7rem; color: rgba(255,255,255,0.45); text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 10px; font-weight: 700; }
.game-mode-options { display: flex; gap: 10px; justify-content: center; }
.game-mode-opt {
  flex: 1; padding: 16px 10px; border-radius: 14px; border: 2px solid rgba(255,215,0,0.15);
  background: rgba(255,255,255,0.03); color: #fff; cursor: pointer; transition: all 0.25s;
  text-align: center;
}
.game-mode-opt:hover { border-color: rgba(255,215,0,0.5); background: rgba(255,215,0,0.05); }
.game-mode-opt.active { border-color: #FFD700; background: rgba(255,215,0,0.12); box-shadow: 0 0 20px rgba(255,215,0,0.1); }
.game-mode-opt-icon { display: block; font-size: 1.8rem; margin-bottom: 6px; }
.game-mode-opt-text { font-size: 0.8rem; font-weight: 700; }
.game-mode-diff {
  flex: 1; padding: 12px 8px; border-radius: 12px; border: 2px solid rgba(255,215,0,0.12);
  background: rgba(255,255,255,0.03); color: #fff; cursor: pointer; transition: all 0.25s;
  font-size: 0.8rem; font-weight: 600;
}
.game-mode-diff:hover { border-color: rgba(255,215,0,0.5); }
.game-mode-diff.active { border-color: #FFD700; background: rgba(255,215,0,0.12); color: #FFD700; box-shadow: 0 0 15px rgba(255,215,0,0.08); }
.game-mode-play {
  margin-top: 12px; padding: 16px 48px; font-size: 1.15rem;
  background: linear-gradient(135deg,#FFD700,#FF6B35); color: #000;
  border: none; border-radius: 14px; cursor: pointer; font-weight: 800;
  box-shadow: 0 6px 24px rgba(255,215,0,0.25); transition: all 0.25s;
  text-transform: uppercase; letter-spacing: 1px;
}
.game-mode-play:hover { transform: translateY(-3px); box-shadow: 0 10px 32px rgba(255,215,0,0.35); }
.game-mode-play:active { transform: translateY(0px); }

/* Rashid on mode select screen */
.game-mode-rashid { text-align: center; flex-shrink: 0; }
.game-mode-rashid svg { width: 150px; height: auto; filter: drop-shadow(0 4px 20px rgba(255,215,0,0.2)); }
.game-mode-rashid-speech {
  background: rgba(255,215,0,0.08); border: 1px solid rgba(255,215,0,0.2);
  border-radius: 14px; padding: 12px 16px; font-size: 0.85rem; color: #fff;
  max-width: 190px; margin: 12px auto 0; text-align: center; line-height: 1.4;
}

/* ===== GAME BODY ===== */
.game-body { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
.game-play-area { flex: 1; display: flex; flex-direction: column; overflow: auto; }

.game-stage {
  flex: 1; display: flex; align-items: center; justify-content: center;
  padding: 16px; position: relative; min-height: 0;
}
.game-stage canvas {
  display: block; border-radius: 12px; max-width: 100%; max-height: 100%;
  image-rendering: pixelated;
}

/* Rashid INSIDE game area (bottom bar) */
.game-rashid-inline {
  display: flex; align-items: center; gap: 12px; padding: 10px 16px;
  background: linear-gradient(90deg, rgba(255,215,0,0.04), rgba(255,215,0,0.02));
  border-top: 1px solid rgba(255,215,0,0.1);
  flex-shrink: 0;
}
.game-rashid-inline-char { flex-shrink: 0; }
.game-rashid-inline-char svg { width: 50px; height: auto; filter: drop-shadow(0 2px 8px rgba(255,215,0,0.15)); }
.game-rashid-bubble {
  background: rgba(255,215,0,0.06); border: 1px solid rgba(255,215,0,0.18);
  border-radius: 12px; padding: 10px 16px; font-size: 0.85rem; color: #fff;
  line-height: 1.4; flex: 1; max-width: 400px; transition: all 0.3s;
  animation: bubblePop 0.3s ease;
}
@keyframes bubblePop { from { transform: scale(0.95); opacity: 0.5; } to { transform: scale(1); opacity: 1; } }

/* ===== GAME OVER SCREEN ===== */
.game-over-screen {
  position: absolute; inset: 0; z-index: 100;
  background: rgba(7,7,9,0.95); backdrop-filter: blur(8px);
  display: flex; align-items: center; justify-content: center;
}
.game-over-card {
  background: linear-gradient(145deg, rgba(20,20,35,0.98), rgba(15,15,25,0.98));
  border: 2px solid #FFD700; border-radius: 24px; padding: 36px 44px; text-align: center;
  max-width: 380px; width: 90%; animation: popIn 0.4s cubic-bezier(0.34,1.56,0.64,1);
  box-shadow: 0 20px 60px rgba(255,215,0,0.15), 0 0 80px rgba(255,215,0,0.05);
}
@keyframes popIn { from { transform: scale(0.7); opacity: 0; } to { transform: scale(1); opacity: 1; } }
.game-over-emoji { font-size: 3.5rem; margin-bottom: 10px; animation: bounce 0.6s ease 0.3s both; }
@keyframes bounce { 0% { transform: scale(0); } 60% { transform: scale(1.2); } 100% { transform: scale(1); } }
.game-over-title { font-family: 'Orbitron',sans-serif; color: #FFD700; font-size: 1.5rem; margin-bottom: 10px; text-shadow: 0 0 20px rgba(255,215,0,0.3); }
.game-over-score { font-size: 1.1rem; color: #fff; margin-bottom: 10px; font-weight: 600; }
.game-over-stars { font-size: 2.2rem; margin-bottom: 8px; animation: starPop 0.5s ease 0.5s both; }
@keyframes starPop { from { transform: scale(0) rotate(-180deg); } to { transform: scale(1) rotate(0deg); } }
.game-over-xp { font-size: 1.1rem; color: #00C9A7; font-weight: 700; margin-bottom: 18px; text-shadow: 0 0 15px rgba(0,201,167,0.3); }
.game-over-btns { display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; }

/* ===== DOM GAME HELPERS ===== */
.gboard { display: grid; gap: 5px; user-select: none; }
.gcell {
  display: flex; align-items: center; justify-content: center;
  background: rgba(255,255,255,0.05); border: 1.5px solid rgba(255,215,0,0.12);
  border-radius: 10px; font-size: 1.4rem; cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4,0,0.2,1);
  aspect-ratio: 1; min-width: 0;
}
.gcell:hover { border-color: #FFD700; background: rgba(255,215,0,0.1); transform: scale(1.05); }
.gcell:active { transform: scale(0.95); }
.gcell.hit { background: rgba(0,201,167,0.25); border-color: #00C9A7; box-shadow: 0 0 12px rgba(0,201,167,0.2); animation: cellPop 0.3s ease; }
.gcell.miss { background: rgba(255,50,50,0.2); border-color: #ff3232; animation: cellShake 0.3s ease; }
@keyframes cellPop { 0% { transform: scale(0.8); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
@keyframes cellShake { 0%,100% { transform: translateX(0); } 25% { transform: translateX(-4px); } 75% { transform: translateX(4px); } }
.gcell.revealed { background: rgba(255,215,0,0.15); }
.gcell.selected { background: rgba(255,215,0,0.2); border-color: #FFD700; box-shadow: 0 0 10px rgba(255,215,0,0.1); }
.gcell.p1 { background: rgba(255,215,0,0.25); border-color: #FFD700; }
.gcell.p2 { background: rgba(0,201,167,0.25); border-color: #00C9A7; }
.gcell.matched { background: rgba(0,201,167,0.2); border-color: #00C9A7; transform: scale(0.95); }
.gcell.flipped { background: rgba(255,215,0,0.15); animation: cellPop 0.3s ease; }

.gbtn {
  padding: 10px 22px; border-radius: 12px; border: none;
  font-family: 'Inter',sans-serif; font-weight: 700; font-size: 0.95rem;
  cursor: pointer; transition: all 0.2s cubic-bezier(0.4,0,0.2,1);
  position: relative; overflow: hidden;
}
.gbtn::after {
  content: ''; position: absolute; inset: 0;
  background: linear-gradient(rgba(255,255,255,0.15), transparent);
  opacity: 0; transition: opacity 0.2s;
}
.gbtn:hover::after { opacity: 1; }
.gbtn:active { transform: scale(0.96); }
.gbtn-gold { background: linear-gradient(135deg,#FFD700,#FF6B35); color: #000; box-shadow: 0 4px 15px rgba(255,215,0,0.2); }
.gbtn-gold:hover { transform: translateY(-2px) scale(1.03); box-shadow: 0 6px 20px rgba(255,215,0,0.3); }
.gbtn-outline {
  background: rgba(255,255,255,0.03); border: 1.5px solid rgba(255,215,0,0.25); color: #FFD700;
  backdrop-filter: blur(4px);
}
.gbtn-outline:hover { border-color: #FFD700; background: rgba(255,215,0,0.08); transform: translateY(-1px); }
.gbtn-teal { background: linear-gradient(135deg,#00C9A7,#4ecdc4); color: #000; box-shadow: 0 4px 15px rgba(0,201,167,0.2); }
.gbtn-teal:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(0,201,167,0.3); }
.gbtn:disabled { opacity: 0.4; cursor: default; transform: none !important; }
.gbtn:disabled::after { display: none; }

.gtext { color: #fff; font-family: 'Inter',sans-serif; text-align: center; }
.gtext-gold { color: #FFD700; }
.gtext-sm { font-size: 0.8rem; }
.gtext-lg { font-size: 1.3rem; font-weight: 700; }
.gtext-xl { font-size: 1.8rem; font-weight: 800; }

.ginput {
  padding: 12px 16px; border-radius: 12px; border: 1.5px solid rgba(255,215,0,0.25);
  background: rgba(255,255,255,0.05); color: #fff; font-size: 1rem;
  font-family: 'Inter',sans-serif; outline: none; width: 100%; box-sizing: border-box;
  transition: all 0.2s;
}
.ginput:focus { border-color: #FFD700; background: rgba(255,255,255,0.08); box-shadow: 0 0 15px rgba(255,215,0,0.08); }

.gflex { display: flex; align-items: center; justify-content: center; gap: 10px; flex-wrap: wrap; }
.gflex-col { display: flex; flex-direction: column; align-items: center; gap: 10px; }
.gw100 { width: 100%; max-width: 500px; }
.gmt { margin-top: 12px; }
.gmb { margin-bottom: 12px; }

/* Letter buttons for word games */
.gletter-row { display: flex; gap: 4px; flex-wrap: wrap; justify-content: center; }
.gletter {
  width: 38px; height: 42px; display: flex; align-items: center; justify-content: center;
  background: rgba(255,255,255,0.07); border: 1.5px solid rgba(255,215,0,0.2);
  border-radius: 8px; font-size: 1.1rem; font-weight: 700; color: #fff;
  cursor: pointer; transition: all 0.15s;
}
.gletter:hover { border-color: #FFD700; background: rgba(255,215,0,0.1); }
.gletter.used { opacity: 0.3; pointer-events: none; }
.gletter.correct { background: rgba(0,201,167,0.2); border-color: #00C9A7; }
.gletter.wrong { background: rgba(255,50,50,0.15); border-color: #ff3232; }

.gword-found { text-decoration: line-through; opacity: 0.5; }

.gtimer-bar { width: 100%; height: 6px; background: rgba(255,255,255,0.08); border-radius: 4px; overflow: hidden; }
.gtimer-fill { height: 100%; background: linear-gradient(90deg,#FF6B35,#FFD700,#00C9A7); transition: width 0.5s ease; border-radius: 4px; box-shadow: 0 0 8px rgba(255,215,0,0.3); }

/* Confetti (spawned by JS) */
.gconfetti {
  position: fixed; top: -10px; width: 8px; height: 8px; border-radius: 2px;
  z-index: 99999; pointer-events: none; animation: confettiFall 2s ease-in forwards;
}
@keyframes confettiFall {
  0% { transform: translateY(0) rotate(0deg); opacity: 1; }
  100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
}

/* Score pulse animation */
.gscore-pulse { animation: scorePulse 0.3s ease; }
@keyframes scorePulse { 0% { transform: scale(1); } 50% { transform: scale(1.3); color: #00C9A7; } 100% { transform: scale(1); } }

/* ===== CORRECT / WRONG STATES ===== */
.gcell.correct {
  background: rgba(0,201,167,0.2); border-color: #00C9A7;
  box-shadow: 0 0 16px rgba(0,201,167,0.3), inset 0 0 8px rgba(0,201,167,0.1);
  animation: cellPop 0.3s ease;
}
.gcell.wrong {
  background: rgba(255,50,50,0.2); border-color: #ff3232;
  box-shadow: 0 0 16px rgba(255,50,50,0.3), inset 0 0 8px rgba(255,50,50,0.1);
  animation: cellShake 0.4s ease;
}

/* ===== CARD FLIP ANIMATION ===== */
.gcell-flip {
  animation: gcellFlip 0.5s ease;
  transform-style: preserve-3d;
}
@keyframes gcellFlip {
  0% { transform: perspective(400px) rotateY(0deg); }
  50% { transform: perspective(400px) rotateY(90deg); opacity: 0.6; }
  100% { transform: perspective(400px) rotateY(0deg); opacity: 1; }
}

/* ===== IMPROVED BUTTON HOVER ===== */
.gbtn:hover { transform: scale(1.04); }
.gbtn-outline:hover { transform: translateY(-2px) scale(1.03); }

/* ===== STYLED CARD CONTAINER ===== */
.gcard {
  background: linear-gradient(145deg, rgba(20,20,35,0.95), rgba(15,15,25,0.95));
  border: 1.5px solid rgba(255,215,0,0.15);
  border-radius: 16px; padding: 20px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.3), 0 0 20px rgba(255,215,0,0.03);
  transition: all 0.3s cubic-bezier(0.4,0,0.2,1);
}
.gcard:hover {
  border-color: rgba(255,215,0,0.3);
  box-shadow: 0 12px 40px rgba(0,0,0,0.4), 0 0 30px rgba(255,215,0,0.06);
}

/* ===== PROGRESS BAR ===== */
.gprogress {
  width: 100%; height: 8px;
  background: rgba(255,255,255,0.06);
  border-radius: 6px; overflow: hidden;
  border: 1px solid rgba(255,255,255,0.04);
}
.gprogress-fill {
  height: 100%; border-radius: 6px;
  background: linear-gradient(90deg, #FFD700, #FF6B35, #00C9A7);
  transition: width 0.5s cubic-bezier(0.4,0,0.2,1);
  box-shadow: 0 0 10px rgba(255,215,0,0.25);
  position: relative;
}
.gprogress-fill::after {
  content: ''; position: absolute; right: 0; top: 0; bottom: 0; width: 20px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3));
  border-radius: 0 6px 6px 0;
}

/* ===== RESPONSIVE ===== */
@media(max-width:768px) {
  .games-grid { grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px; }
  .game-card { padding: 14px 8px 10px; }
  .game-card-emoji { font-size: 1.8rem; }
  .game-card-name { font-size: 0.6rem; }
  .game-stage { padding: 10px; }
  .game-topbar { padding: 8px 10px; }
  .game-over-card { padding: 24px 20px; }
  .game-mode-screen { flex-direction: column; gap: 16px; padding: 16px; }
  .game-mode-rashid svg { width: 100px; }
  .game-mode-card { padding: 20px; }
  .gcard { padding: 14px; }
  .gbtn { padding: 8px 16px; font-size: 0.85rem; }
  .gbtn-gold { padding: 10px 20px; }
  .gw100 { max-width: 100%; padding: 0 8px; box-sizing: border-box; }
  .ginput { font-size: 0.9rem; padding: 10px 12px; }
}
@media(max-width:480px) {
  .games-grid { grid-template-columns: repeat(3, 1fr); gap: 8px; }
  .games-tab { padding: 6px 12px; font-size: 0.75rem; }
  .game-mode-screen { gap: 10px; }
  .game-mode-rashid { display: none; }
  .gflex { gap: 6px; }
  .gflex-col { gap: 6px; }
  .gcell { border-radius: 8px; font-size: 1.1rem; }
  .gtext-lg { font-size: 1.1rem; }
  .gtext-xl { font-size: 1.4rem; }
  .game-rashid-inline { padding: 8px 10px; gap: 8px; }
  .game-rashid-bubble { font-size: 0.8rem; padding: 8px 12px; }
}

/* ===== RTL ===== */
[dir="rtl"] .game-back-btn { direction: ltr; }
