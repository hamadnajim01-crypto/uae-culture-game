!function(){var e=window.GamesEngine,t=e.shuffle,r=e.pick;e.register({id:"simon-says",name:"Simon Says",emoji:"üéØ",category:"fun",has2P:!1,_tv:null,init:function(t,n,a){var o=["#FF6B35","#FFD700","#00C9A7","#9b59b6"],i=["rgba(255,107,53,0.12)","rgba(255,215,0,0.12)","rgba(0,201,167,0.12)","rgba(155,89,182,0.12)"],s=["üïå","üê™","üå¥","üíé"],l=[],d=0,c=0,g=!1,p=document.createElement("div");p.className="gflex-col gw100",p.style.alignItems="center",p.innerHTML='<div class="gtext gmb" id="ssStatus" style="font-size:1.1rem;min-height:30px">Watch the pattern!</div><div class="gtext gtext-sm gmb" id="ssRound" style="font-family:Orbitron;opacity:0.6">Round 0</div><div style="display:grid;grid-template-columns:repeat(2,110px);gap:12px" id="ssGrid"></div><div class="gtext gmt gtext-sm" id="ssHint" style="opacity:0.4;min-height:20px"></div>',t.appendChild(p);for(var u=p.querySelector("#ssGrid"),y=[],b=0;b<4;b++){var m=document.createElement("div");m.style.cssText="width:110px;height:110px;border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:2.4rem;cursor:pointer;transition:all 0.15s;background:"+i[b]+";border:2px solid "+o[b]+"30;user-select:none",m.textContent=s[b],m.setAttribute("data-i",b),u.appendChild(m),y.push(m)}var f="easy"===a?600:"hard"===a?250:400,x="easy"===a?800:"hard"===a?400:600;function h(e,t){y[e].style.background=o[e],y[e].style.transform="scale(1.12)",y[e].style.boxShadow="0 0 30px "+o[e]+"60",y[e].style.borderColor=o[e],setTimeout(function(){y[e].style.background=i[e],y[e].style.transform="scale(1)",y[e].style.boxShadow="none",y[e].style.borderColor=o[e]+"30"},t||f)}function v(){c++,e.setScore(c-1),l.push(Math.floor(4*Math.random())),d=0,g=!0,p.querySelector("#ssStatus").textContent="üëÄ Watch carefully!",p.querySelector("#ssRound").textContent="Round "+c,p.querySelector("#ssHint").textContent=l.length+" to remember";var t=0,r=setInterval(function(){if(t>=l.length)return clearInterval(r),g=!1,p.querySelector("#ssStatus").textContent="üéØ Your turn! Repeat the pattern",void(p.querySelector("#ssHint").textContent=d+"/"+l.length);h(l[t],f-50),t++},x)}return u.onclick=function(t){if(!g){for(var n=t.target;n&&!n.hasAttribute("data-i")&&n!==u;)n=n.parentNode;if(n&&n.hasAttribute("data-i")){var a=parseInt(n.getAttribute("data-i"));h(a,200),a===l[d]?(d++,p.querySelector("#ssHint").textContent=d+"/"+l.length,d>=l.length&&(e.rashidSay(r(["Nice memory! üß†","Perfect! üéØ","Amazing! üåü","Keep going! üí™"])),p.querySelector("#ssStatus").textContent="‚úÖ Round "+c+" complete!",setTimeout(v,800))):(y[a].style.background="rgba(255,50,50,0.3)",y[a].style.borderColor="#ff6b6b",p.querySelector("#ssStatus").textContent="‚ùå Wrong! You reached round "+c,p.querySelector("#ssHint").textContent=c>5?"Amazing run!":c>2?"Good effort!":"Try again!",e.rashidSay("Game over at round "+c+"!"),e.endGame(c-1,c-1||1))}}},setTimeout(v,600),{}},destroy:function(){}}),e.register({id:"reaction-time",name:"Reaction Time",emoji:"‚ö°",category:"fun",has2P:!0,_tv:null,init:function(t,r,n){var a="easy"===n?3:"hard"===n?7:5,o=0,i=[],s=[],l=!1,d=0,c=!1,g=document.createElement("div");g.className="gflex-col gw100",g.style.alignItems="center",g.innerHTML='<div class="gtext gmb" id="rtStatus" style="font-size:1.1rem">Get ready...</div><div class="gtext gtext-sm gmb" id="rtRound" style="font-family:Orbitron;opacity:0.5">Round 0/'+a+'</div><div id="rtBox" style="width:320px;height:220px;border-radius:20px;background:linear-gradient(135deg,#ff3232,#cc2929);display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;user-select:none;transition:all 0.15s;box-shadow:0 8px 30px rgba(255,50,50,0.3);border:2px solid rgba(255,255,255,0.1)"><span style="font-size:3rem;margin-bottom:8px" id="rtEmoji">üî¥</span><span class="gtext gtext-lg" id="rtText" style="font-weight:700">Wait for GREEN...</span><span class="gtext gtext-sm" id="rtSub" style="opacity:0.6;margin-top:4px">Don\'t tap yet!</span></div><div style="display:flex;gap:12px;margin-top:16px;flex-wrap:wrap;justify-content:center" id="rtTimes"></div>'+("2p"===r?'<div class="gflex gmt" style="gap:20px"><div class="gtext" id="rtP1" style="font-family:Orbitron">P1: --</div><div class="gtext" id="rtP2" style="font-family:Orbitron">P2: --</div></div>':'<div class="gtext gmt" id="rtResult" style="font-family:Orbitron;font-size:1.2rem"></div>')+'<div class="gtext gmt gtext-sm" id="rtBest" style="opacity:0.5"></div>',t.appendChild(g);var p=g.querySelector("#rtBox"),u=g.querySelector("#rtText"),y=g.querySelector("#rtEmoji"),b=g.querySelector("#rtSub"),m=g.querySelector("#rtTimes"),f=this;function x(){if(++o>a)!function(){var t=i.length>0?Math.round(i.reduce(function(e,t){return e+t},0)/i.length):9999,n=i.length>0?Math.min.apply(null,i):9999;p.style.background="linear-gradient(135deg,#FFD700,#e6c200)",p.style.boxShadow="0 8px 30px rgba(255,215,0,0.3)",y.textContent="üèÜ",u.textContent="Average: "+t+"ms",b.textContent="Best: "+n+"ms";var a=t<200?"Lightning! ‚ö°":t<300?"Super fast! üöÄ":t<400?"Quick! üëç":"Keep practicing! üí™";if(g.querySelector("#rtStatus").textContent=a,"2p"===r){var o=s.length>0?Math.round(s.reduce(function(e,t){return e+t},0)/s.length):9999,l=t<o?"P1 wins! üèÜ":o<t?"P2 wins! üèÜ":"Draw! ü§ù";e.rashidSay(l+" P1: "+t+"ms, P2: "+o+"ms")}else e.rashidSay(a+" Average: "+t+"ms!");e.endGame(Math.max(1,Math.round((500-t)/50)),10)}();else{l=!1,c=!1,p.style.background="linear-gradient(135deg,#ff3232,#cc2929)",p.style.boxShadow="0 8px 30px rgba(255,50,50,0.3)",y.textContent="üî¥",u.textContent="Wait for GREEN...",b.textContent="Don't tap yet!",g.querySelector("#rtRound").textContent="Round "+o+"/"+a,g.querySelector("#rtStatus").textContent="Get ready...";var t=1500+3e3*Math.random();f._tv=setTimeout(function(){p.style.background="linear-gradient(135deg,#00C9A7,#009a7a)",p.style.boxShadow="0 8px 30px rgba(0,201,167,0.4)",y.textContent="üü¢",u.textContent="TAP NOW!",b.textContent="Go go go!",g.querySelector("#rtStatus").textContent="‚ö° TAP!",d=Date.now(),l=!0},t)}}return p.onclick=function(){if(l){var t=Date.now()-d;i.push(t),function(e){var t=document.createElement("div"),r=e<250?"#00C9A7":e<400?"#FFD700":"#FF6B35";t.style.cssText="padding:4px 10px;border-radius:20px;background:"+r+"20;border:1px solid "+r+"50;font-size:0.75rem;font-family:Orbitron;color:"+r,t.textContent=e+"ms",m.appendChild(t)}(t),p.style.background="linear-gradient(135deg,#FFD700,#e6c200)",p.style.boxShadow="0 8px 30px rgba(255,215,0,0.3)",y.textContent="‚ö°",u.textContent=t+"ms!",b.textContent=t<200?"INCREDIBLE!":t<300?"Fast!":t<400?"Good!":"Not bad!",g.querySelector("#rtStatus").textContent="‚úÖ "+t+"ms";var n=Math.min.apply(null,i);if(g.querySelector("#rtBest").textContent="Best: "+n+"ms","2p"===r)g.querySelector("#rtP1").textContent="P1: "+t+"ms";else{var a=g.querySelector("#rtResult");a&&(a.textContent=t+"ms")}l=!1,setTimeout(function(){x()},1200)}else c||(c=!0,f._tv&&clearTimeout(f._tv),p.style.background="linear-gradient(135deg,#8B0000,#660000)",y.textContent="‚ùå",u.textContent="TOO EARLY!",b.textContent="Wait for green next time!",g.querySelector("#rtStatus").textContent="‚õî Too early!",e.rashidSay("Patience! Wait for green! üî¥"),setTimeout(function(){x()},1500))},setTimeout(function(){x()},800),{}},destroy:function(){this._tv&&clearTimeout(this._tv)}}),e.register({id:"color-match",name:"Color Match",emoji:"üé®",category:"fun",has2P:!1,_tv:null,init:function(t,n,a){var o=["RED","BLUE","GREEN","YELLOW"],i={RED:"#ff3232",BLUE:"#3498db",GREEN:"#00C9A7",YELLOW:"#FFD700"},s="easy"===a?45:"hard"===a?20:30,l="easy"===a?12:"hard"===a?25:20,d=0,c=0,g=s,p=0,u=document.createElement("div");return u.className="gflex-col gw100",u.style.alignItems="center",u.innerHTML='<div style="display:flex;align-items:center;gap:12px;margin-bottom:8px"><div class="gtext" id="cmTimer" style="font-family:Orbitron;font-size:1.3rem">‚è±Ô∏è '+s+'</div><div class="gtext gtext-sm" id="cmStreak" style="opacity:0"></div></div><div style="width:100%;max-width:300px;height:4px;background:rgba(255,255,255,0.08);border-radius:4px;margin-bottom:12px;overflow:hidden"><div id="cmTimerBar" style="width:100%;height:100%;background:linear-gradient(90deg,#FFD700,#FF6B35);transition:width 1s linear;border-radius:4px"></div></div><div class="gtext gtext-sm gmb" style="padding:8px 16px;background:rgba(255,215,0,0.08);border-radius:10px;border:1px solid rgba(255,215,0,0.15)">Click the color matching the <strong>WORD</strong>, not the ink! üß†</div><div style="width:200px;height:100px;display:flex;align-items:center;justify-content:center;margin:16px 0;background:rgba(255,255,255,0.03);border-radius:16px;border:1.5px solid rgba(255,255,255,0.06)"><div id="cmWord" style="font-size:2.8rem;font-weight:900;font-family:Orbitron;letter-spacing:3px;text-shadow:0 4px 15px rgba(0,0,0,0.3);transition:transform 0.15s"></div></div><div style="display:grid;grid-template-columns:repeat(2,1fr);gap:10px;width:100%;max-width:260px" id="cmBtns"></div><div id="cmFeedback" style="min-height:24px;margin-top:10px;font-weight:700;font-size:0.9rem"></div><div class="gtext gmt" id="cmScore" style="font-family:Orbitron">Score: 0/'+l+"</div>",t.appendChild(u),this._tv=setInterval(function(){g--,u.querySelector("#cmTimer").textContent="‚è±Ô∏è "+g,u.querySelector("#cmTimerBar").style.width=g/s*100+"%",g<=5&&(u.querySelector("#cmTimer").style.color="#ff6b6b",u.querySelector("#cmTimerBar").style.background="linear-gradient(90deg,#ff6b6b,#FF6B35)"),g<=0&&(clearInterval(this._tv),e.endGame(c,l))}.bind(this),1e3),function t(){d++;var n=r(o),a=r(o.filter(function(e){return e!==n})),s=u.querySelector("#cmWord");s.textContent=n,s.style.color=i[a],s.style.transform="scale(0.8)",setTimeout(function(){s.style.transform="scale(1)"},50),u.querySelector("#cmFeedback").textContent="";var y=u.querySelector("#cmBtns");y.innerHTML="",o.forEach(function(r){var a=document.createElement("button");a.className="gbtn",a.style.cssText="padding:16px;background:"+i[r]+"25;border:2.5px solid "+i[r]+";border-radius:14px;cursor:pointer;transition:all 0.15s;font-weight:700;color:"+i[r]+";font-size:0.9rem",a.textContent=r,a.onmouseenter=function(){a.style.background=i[r]+"50",a.style.transform="scale(1.05)"},a.onmouseleave=function(){a.style.background=i[r]+"25",a.style.transform="scale(1)"},a.onclick=function(){var a=u.querySelector("#cmFeedback");r===n?(c++,p++,e.setScore(c),a.textContent="‚úÖ"+(p>2?" üî•"+p+" streak!":""),a.style.color="#00C9A7",u.querySelector("#cmStreak").textContent=p>1?"üî•"+p:"",u.querySelector("#cmStreak").style.opacity=p>1?"1":"0"):(p=0,a.textContent="‚ùå The word said "+n+"!",a.style.color="#ff6b6b",u.querySelector("#cmStreak").style.opacity="0"),u.querySelector("#cmScore").textContent="Score: "+c+"/"+l,d>=l||g<=0?e.endGame(c,l):t()},y.appendChild(a)})}(),{}},destroy:function(){this._tv&&clearInterval(this._tv)}}),e.register({id:"spot-diff",name:"Spot Difference",emoji:"üîé",category:"fun",has2P:!1,_tv:null,init:function(n,a,o){var i=["üïå","üê™","üå¥","üíé","ü¶Ö","üèúÔ∏è","‚≠ê","üåô","ü™ô","üê´","üéØ","üèóÔ∏è","‚õµ","üêö","üåä","üé®","ü¶¢","üé™","üå∫","ü¶ú"],s="easy"===o?3:"hard"===o?7:5,l=t(i).slice(0,16),d=l.slice(),c=t(Array.from({length:16},function(e,t){return t})).slice(0,s),g=t(i.filter(function(e){return-1===l.indexOf(e)}).concat(["üî¥","üü°","üü¢","üîµ","üü£","üü†","ü©µ"]));c.forEach(function(e,t){d[e]=g[t]||"‚ùì"});var p=[],u=0,y=document.createElement("div");y.className="gflex-col gw100",y.style.alignItems="center",y.innerHTML='<div class="gtext gmb" style="font-size:1.05rem">üîé Find '+s+' differences! Tap the changed emoji in the right grid.</div><div style="display:flex;gap:16px;flex-wrap:wrap;justify-content:center"><div style="text-align:center"><div class="gtext gtext-sm gmb" style="color:#00C9A7;font-weight:700">‚úÖ Original</div><div class="gboard" style="grid-template-columns:repeat(4,50px);gap:4px" id="sdLeft"></div></div><div style="text-align:center"><div class="gtext gtext-sm gmb" style="color:#FFD700;font-weight:700">üîç Find changes here</div><div class="gboard" style="grid-template-columns:repeat(4,50px);gap:4px" id="sdRight"></div></div></div><div style="display:flex;gap:8px;margin-top:12px;align-items:center" id="sdDots"></div><div class="gtext gmt" id="sdStatus" style="font-family:Orbitron">Found: 0/'+s+"</div>",n.appendChild(y);for(var b=y.querySelector("#sdDots"),m=0;m<s;m++){var f=document.createElement("div");f.style.cssText="width:14px;height:14px;border-radius:50%;background:rgba(255,255,255,0.1);border:1.5px solid rgba(255,215,0,0.2);transition:all 0.3s",f.setAttribute("data-dot",m),b.appendChild(f)}for(var x=y.querySelector("#sdLeft"),h=y.querySelector("#sdRight"),v=0;v<16;v++){var S=document.createElement("div");S.className="gcell",S.style.cssText="height:50px;width:50px;font-size:1.5rem;display:flex;align-items:center;justify-content:center;border-radius:10px;background:rgba(255,255,255,0.03);border:1.5px solid rgba(255,255,255,0.06)",S.textContent=l[v],x.appendChild(S);var w=document.createElement("div");w.className="gcell",w.style.cssText="height:50px;width:50px;font-size:1.5rem;display:flex;align-items:center;justify-content:center;border-radius:10px;background:rgba(255,255,255,0.03);border:1.5px solid rgba(255,215,0,0.1);cursor:pointer;transition:all 0.2s",w.textContent=d[v],w.setAttribute("data-i",v),h.appendChild(w)}return h.onclick=function(t){var n=t.target;if(n.hasAttribute("data-i")){var a=parseInt(n.getAttribute("data-i"));if(!(p.indexOf(a)>-1))if(c.indexOf(a)>-1){p.push(a),u++,e.addScore(1),n.style.background="rgba(0,201,167,0.2)",n.style.borderColor="#00C9A7",n.style.boxShadow="0 0 15px rgba(0,201,167,0.3)",x.children[a].style.background="rgba(0,201,167,0.2)",x.children[a].style.borderColor="#00C9A7";var o=b.querySelectorAll("[data-dot]");o[u-1]&&(o[u-1].style.background="#00C9A7",o[u-1].style.borderColor="#00C9A7",o[u-1].style.boxShadow="0 0 8px rgba(0,201,167,0.5)"),y.querySelector("#sdStatus").textContent="Found: "+u+"/"+s,e.rashidSay(r(["Found one! üîé","Sharp eyes! üëÄ","Nice spot! üéØ"])),u>=s&&(e.rashidSay("All found! üéâ"),e.endGame(s,s))}else n.style.background="rgba(255,50,50,0.15)",n.style.borderColor="rgba(255,50,50,0.3)",setTimeout(function(){n.style.background="rgba(255,255,255,0.03)",n.style.borderColor="rgba(255,215,0,0.1)"},400),e.rashidSay(r(["Not there!","Keep looking!","Try again!"]))}},{}},destroy:function(){this._tv&&clearInterval(this._tv)}}),e.register({id:"falcon-pearl-sand",name:"Falcon Pearl Sand",emoji:"‚úä",category:"fun",has2P:!0,init:function(t,n,a){var o=[{name:"Falcon",emoji:"ü¶Ö",beats:"Pearl",color:"#FF6B35"},{name:"Pearl",emoji:"üíé",beats:"Sand",color:"#00C9A7"},{name:"Sand",emoji:"üèúÔ∏è",beats:"Falcon",color:"#FFD700"}],i="easy"===a?3:"hard"===a?7:5,s=0,l=0,d=0,c=null,g=!1,p=document.createElement("div");function u(e){var t=p.querySelector("#rpsBtns");t.innerHTML="",g=!1,o.forEach(function(r){var n=document.createElement("button");n.className="gbtn",n.style.cssText="padding:14px 20px;border-radius:14px;background:"+r.color+"15;border:2px solid "+r.color+"40;color:#fff;cursor:pointer;transition:all 0.2s;font-size:1rem;display:flex;flex-direction:column;align-items:center;gap:4px",n.innerHTML='<span style="font-size:2rem">'+r.emoji+'</span><span style="font-size:0.8rem">'+r.name+"</span>",n.onmouseenter=function(){n.style.background=r.color+"30",n.style.transform="scale(1.08)"},n.onmouseleave=function(){n.style.background=r.color+"15",n.style.transform="scale(1)"},n.onclick=function(){g||e(r)},t.appendChild(n)})}function y(t,r){var a;g=!0,s++,"p1"===(a=t.name===r.name?"draw":t.beats===r.name?"p1":"p2")?(l++,e.rashidSay(t.emoji+" beats "+r.emoji+"!")):"p2"===a?(d++,e.rashidSay(r.emoji+" beats "+t.emoji+"!")):e.rashidSay("Draw!"),function(e,t,r){var a=p.querySelector("#rpsP1Show"),o=p.querySelector("#rpsP2Show");a.textContent=e.emoji,a.style.borderColor=e.color,a.style.background=e.color+"20",o.textContent=t.emoji,o.style.borderColor=t.color,o.style.background=t.color+"20";var i=p.querySelector("#rpsResult");"p1"===r?(a.style.boxShadow="0 0 20px "+e.color+"60",a.style.transform="scale(1.15)",i.textContent="üèÜ "+e.name+" beats "+t.name+"! You win!",i.style.color="#00C9A7"):"p2"===r?(o.style.boxShadow="0 0 20px "+t.color+"60",o.style.transform="scale(1.15)",i.textContent="üò§ "+t.name+" beats "+e.name+"! "+("2p"===n?"P2":"Rashid")+" wins!",i.style.color="#ff6b6b"):(i.textContent="ü§ù Draw! Both chose "+e.emoji,i.style.color="#FFD700")}(t,r,a),p.querySelector("#rpsScore").textContent="P1: "+l+" | "+("2p"===n?"P2":"Rashid")+": "+d,e.setScore(l),s>=i?setTimeout(function(){e.endGame(l,i)},1200):setTimeout(function(){p.querySelector("#rpsStatus").textContent="Round "+(s+1)+"/"+i,p.querySelector("#rpsP1Show").textContent="‚ùì",p.querySelector("#rpsP1Show").style.boxShadow="none",p.querySelector("#rpsP1Show").style.transform="scale(1)",p.querySelector("#rpsP1Show").style.borderColor="rgba(255,215,0,0.2)",p.querySelector("#rpsP1Show").style.background="rgba(255,215,0,0.08)",p.querySelector("#rpsP2Show").textContent="‚ùì",p.querySelector("#rpsP2Show").style.boxShadow="none",p.querySelector("#rpsP2Show").style.transform="scale(1)",p.querySelector("#rpsP2Show").style.borderColor="rgba(0,201,167,0.2)",p.querySelector("#rpsP2Show").style.background="rgba(0,201,167,0.08)",p.querySelector("#rpsResult").textContent="",b()},1200)}function b(){if("2p"===n)c=null,p.querySelector("#rpsP1Status")&&(p.querySelector("#rpsP1Status").textContent="P1: Choose!"),u(function(e){c||(c=e,p.querySelector("#rpsP1Show").textContent="‚úÖ",p.querySelector("#rpsP1Status")&&(p.querySelector("#rpsP1Status").textContent="P1 chose! P2: Choose!"),u(function(e){y(c,e)}))});else{var e=null;u(function(t){g=!0,p.querySelector("#rpsP1Show").textContent=t.emoji,p.querySelector("#rpsP2Show").textContent="ü§î",setTimeout(function(){var n;n="hard"===a&&e&&o.filter(function(t){return t.beats===e.name})[0]||r(o),e=t,y(t,n)},600)})}}return p.className="gflex-col gw100",p.style.alignItems="center",p.innerHTML='<div class="gtext gmb" id="rpsStatus" style="font-family:Orbitron;font-size:1.1rem">Round 1/'+i+'</div><div class="gtext gtext-sm gmb" style="padding:8px 16px;background:rgba(255,215,0,0.06);border-radius:10px;border:1px solid rgba(255,215,0,0.1)">ü¶Ö beats üíé ¬∑ üíé beats üèúÔ∏è ¬∑ üèúÔ∏è beats ü¶Ö</div><div id="rpsArena" style="display:flex;align-items:center;gap:20px;margin:16px 0;min-height:100px"><div id="rpsP1Show" style="width:80px;height:80px;border-radius:50%;background:rgba(255,215,0,0.08);border:2px solid rgba(255,215,0,0.2);display:flex;align-items:center;justify-content:center;font-size:2.5rem;transition:all 0.3s">‚ùì</div><div class="gtext" style="font-size:1.5rem;font-weight:900">VS</div><div id="rpsP2Show" style="width:80px;height:80px;border-radius:50%;background:rgba(0,201,167,0.08);border:2px solid rgba(0,201,167,0.2);display:flex;align-items:center;justify-content:center;font-size:2.5rem;transition:all 0.3s">‚ùì</div></div>'+("2p"===n?'<div class="gtext gmb gtext-sm" id="rpsP1Status">P1: Choose!</div>':"")+'<div style="display:flex;gap:10px;margin-bottom:12px" id="rpsBtns"></div><div id="rpsResult" style="min-height:32px;font-weight:700;font-size:1.1rem;transition:opacity 0.3s"></div><div class="gtext gmt" id="rpsScore" style="font-family:Orbitron">P1: 0 | '+("2p"===n?"P2":"Rashid")+": 0</div>",t.appendChild(p),b(),{}},destroy:function(){}}),e.register({id:"drawing-guess",name:"Drawing Guess",emoji:"‚úèÔ∏è",category:"fun",has2P:!1,_tv:null,init:function(r,n,a){var o=["Camel","Mosque","Palm Tree","Sun","Boat","Falcon","Desert","Pearl","Dune","Oasis","Tent","Fish","Crown","Star","Moon","Flower"],i=t([{answer:"Camel",steps:["üü§","üü§üü§","üü§üü§\n  ü¶µ","üü§üü§\n  ü¶µü¶µ","üê™"]},{answer:"Mosque",steps:["üü¶","üü¶\nüèõÔ∏è","üü¶\nüèõÔ∏èüïå","üü¶‚ò™Ô∏è\nüèõÔ∏èüïå","üïå"]},{answer:"Palm Tree",steps:["|","|üü§","|üü§\nüåø","üåøüåø\n|üü§\nüåø","üå¥"]},{answer:"Sun",steps:["¬∑","‚óã","‚òÄÔ∏è rays","‚òÄÔ∏è","‚òÄÔ∏èüèúÔ∏è"]},{answer:"Boat",steps:["~","~‚õµ~","~üö¢~","~üö¢~üåä","‚õµ"]},{answer:"Falcon",steps:["üü§","üü§üëÅÔ∏è","üü§üëÅÔ∏è\nü™∂","üü§üëÅÔ∏è\nü™∂ü™∂","ü¶Ö"]},{answer:"Desert",steps:["üü°","üü°üü°","üü°üü°\n~~","üü°üü°‚òÄÔ∏è\n~~","üèúÔ∏è"]},{answer:"Pearl",steps:["ü´ß","ü´ß‚ö™","ü´ß‚ö™‚ú®","ü´ß‚ö™‚ú®üêö","üíé"]},{answer:"Fish",steps:["„Ä∞Ô∏è","„Ä∞Ô∏è>","„Ä∞Ô∏è><","„Ä∞Ô∏è><>","üêü"]},{answer:"Star",steps:[".","‚ú¶","‚ú¶‚≠ê","‚≠ê‚ú®","üåü"]}]).slice(0,"easy"===a?5:"hard"===a?8:6),s=0,l=0,d=0,c="easy"===a?2500:"hard"===a?1200:1800,g=document.createElement("div");g.className="gflex-col gw100",g.style.alignItems="center",g.innerHTML='<div class="gtext gtext-sm gmb" style="opacity:0.5;font-family:Orbitron" id="dgRound">Round 1/'+i.length+'</div><div class="gtext gmb" id="dgStatus" style="font-size:1rem">‚úèÔ∏è Rashid is drawing something...</div><div style="position:relative;width:240px;height:180px;margin-bottom:12px"><div style="position:absolute;inset:-4px;border-radius:22px;background:linear-gradient(135deg,rgba(255,215,0,0.3),rgba(0,201,167,0.2),rgba(155,89,182,0.2));opacity:0.5;filter:blur(2px)"></div><div id="dgCanvas" style="position:relative;width:100%;height:100%;background:linear-gradient(145deg,rgba(15,15,25,0.95),rgba(20,20,35,0.95));border:2.5px solid rgba(255,215,0,0.25);border-radius:20px;display:flex;align-items:center;justify-content:center;font-size:3rem;white-space:pre-line;transition:all 0.4s;box-shadow:inset 0 0 40px rgba(255,215,0,0.03),0 8px 30px rgba(0,0,0,0.3);overflow:hidden"><div style="position:absolute;top:6px;left:10px;font-size:0.55rem;color:rgba(255,215,0,0.25);font-weight:600">RASHID\'S CANVAS</div><div style="position:absolute;bottom:6px;right:8px;font-size:0.55rem;color:rgba(255,255,255,0.15)">‚úèÔ∏è Drawing...</div></div></div><div style="display:flex;gap:6px;margin-bottom:14px" id="dgStepDots"></div><div class="gtext gtext-sm" id="dgHint" style="color:rgba(255,215,0,0.6);min-height:20px;margin-bottom:10px">Watch the drawing unfold...</div><div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;width:100%;max-width:320px" id="dgChoices"></div><div style="display:flex;align-items:center;gap:6px;margin-top:14px"><div style="display:flex;gap:4px" id="dgDots"></div><div class="gtext gtext-sm" style="font-family:Orbitron;color:#FFD700" id="dgScore">0/'+i.length+"</div></div>",r.appendChild(g);for(var p=this,u=g.querySelector("#dgDots"),y=0;y<i.length;y++){var b=document.createElement("div");b.style.cssText="width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,0.08);border:1.5px solid rgba(255,215,0,0.15);transition:all 0.3s",b.setAttribute("data-dot",y),u.appendChild(b)}return function r(){d=0;var n=g.querySelector("#dgCanvas");n.querySelectorAll(".dgContent").forEach(function(e){e.remove()});var a=document.createElement("div");a.className="dgContent",a.style.cssText="transition:transform 0.3s,opacity 0.3s;transform:scale(0.8);opacity:0",a.textContent=i[s].steps[0],n.appendChild(a),setTimeout(function(){a.style.transform="scale(1)",a.style.opacity="1"},50),n.style.borderColor="rgba(255,215,0,0.25)",n.style.boxShadow="inset 0 0 40px rgba(255,215,0,0.03),0 8px 30px rgba(0,0,0,0.3)",g.querySelector("#dgRound").textContent="Round "+(s+1)+"/"+i.length,g.querySelector("#dgStatus").textContent="‚úèÔ∏è Rashid is drawing something...",g.querySelector("#dgHint").textContent="Watch the drawing unfold...",g.querySelector("#dgHint").style.color="rgba(255,215,0,0.6)",function(e){var t=g.querySelector("#dgStepDots");t.innerHTML="";for(var r=0;r<e;r++){var n=document.createElement("div");n.style.cssText="width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,0.08);border:1px solid rgba(255,215,0,0.15);transition:all 0.3s",n.setAttribute("data-step",r),t.appendChild(n)}var a=t.querySelector('[data-step="0"]');a&&(a.style.background="#FFD700",a.style.borderColor="#FFD700")}(i[s].steps.length);var y,b,m=t([i[s].answer].concat((y=i[s].answer,b=o.filter(function(e){return e!==y}),t(b).slice(0,3)))),f=g.querySelector("#dgChoices");f.innerHTML="";var x=["A","B","C","D"],h=["#FF6B35","#FFD700","#00C9A7","#9b59b6"];m.forEach(function(t,a){var o=document.createElement("button");o.style.cssText="padding:14px 10px;border-radius:14px;background:rgba(255,255,255,0.04);border:2px solid rgba(255,215,0,0.15);color:#fff;cursor:pointer;transition:all 0.25s;font-size:0.95rem;font-weight:600;display:flex;align-items:center;gap:8px;justify-content:center;font-family:Inter,sans-serif",o.innerHTML='<span style="display:inline-flex;width:24px;height:24px;border-radius:7px;background:'+h[a]+"20;color:"+h[a]+';align-items:center;justify-content:center;font-weight:800;font-size:0.75rem;flex-shrink:0">'+x[a]+"</span><span>"+t+"</span>",o.setAttribute("data-answer",t),o.onmouseenter=function(){o.disabled||(o.style.borderColor=h[a],o.style.background=h[a]+"15",o.style.transform="scale(1.03)")},o.onmouseleave=function(){o.disabled||(o.style.borderColor="rgba(255,215,0,0.15)",o.style.background="rgba(255,255,255,0.04)",o.style.transform="scale(1)")},o.onclick=function(){if(!o.disabled){f.querySelectorAll("button").forEach(function(e){e.disabled=!0,e.style.opacity="0.4",e.style.transform="scale(1)"});var a=t===i[s].answer,d=u.querySelectorAll("[data-dot]");a?(l++,e.addScore(1),o.style.opacity="1",o.style.background="rgba(0,201,167,0.25)",o.style.borderColor="#00C9A7",o.style.boxShadow="0 0 15px rgba(0,201,167,0.3)",n.style.borderColor="#00C9A7",n.style.boxShadow="inset 0 0 40px rgba(0,201,167,0.06),0 0 25px rgba(0,201,167,0.2)",e.rashidSay("You guessed it! ‚úèÔ∏è It's a "+i[s].answer+"!"),g.querySelector("#dgHint").textContent="‚úÖ Correct! It's a "+i[s].answer+"!",g.querySelector("#dgHint").style.color="#00C9A7",d[s]&&(d[s].style.background="#00C9A7",d[s].style.borderColor="#00C9A7")):(o.style.opacity="1",o.style.background="rgba(255,50,50,0.25)",o.style.borderColor="#ff6b6b",o.style.animation="cellShake 0.4s ease",f.querySelectorAll("button").forEach(function(e){e.getAttribute("data-answer")===i[s].answer&&(e.style.opacity="1",e.style.background="rgba(0,201,167,0.25)",e.style.borderColor="#00C9A7")}),n.style.borderColor="#ff6b6b",n.style.boxShadow="inset 0 0 40px rgba(255,50,50,0.06),0 0 25px rgba(255,50,50,0.2)",e.rashidSay("Nope! It was a "+i[s].answer+"!"),g.querySelector("#dgHint").textContent="‚ùå It was a "+i[s].answer+"!",g.querySelector("#dgHint").style.color="#ff6b6b",d[s]&&(d[s].style.background="#ff6b6b",d[s].style.borderColor="#ff6b6b")),p._tv&&clearInterval(p._tv);var c=n.querySelector(".dgContent");c&&(c.style.transform="scale(0.5)",c.style.opacity="0",setTimeout(function(){c.textContent=i[s].steps[i[s].steps.length-1],c.style.fontSize="3.5rem",c.style.transform="scale(1)",c.style.opacity="1"},200)),g.querySelector("#dgScore").textContent=l+"/"+i.length,s++,setTimeout(function(){s>=i.length?e.endGame(l,i.length):r()},1400)}},f.appendChild(o)}),p._tv=setInterval(function(){if(++d>=i[s].steps.length)clearInterval(p._tv);else{var e=n.querySelector(".dgContent");e&&(e.style.transform="scale(0.8)",e.style.opacity="0.5",setTimeout(function(){e.textContent=i[s].steps[d],e.style.transform="scale(1)",e.style.opacity="1"},150));var t=g.querySelector("#dgStepDots").querySelector('[data-step="'+d+'"]');t&&(t.style.background="#FFD700",t.style.borderColor="#FFD700",t.style.boxShadow="0 0 6px rgba(255,215,0,0.4)")}},c)}(),{}},destroy:function(){this._tv&&clearInterval(this._tv)}}),e.register({id:"dice-roll",name:"Dice Adventure",emoji:"üé≤",category:"fun",has2P:!0,init:function(r,n,a){var o="easy"===a?15:"hard"===a?30:20,i=t([{q:"Capital of UAE?",a:"Abu Dhabi",opts:["Abu Dhabi","Dubai","Sharjah","Ajman"]},{q:"UAE national bird?",a:"Falcon",opts:["Eagle","Falcon","Hawk","Parrot"]},{q:"Tallest building?",a:"Burj Khalifa",opts:["Burj Khalifa","Burj Al Arab","CN Tower","Eiffel Tower"]},{q:"UAE currency?",a:"Dirham",opts:["Dirham","Riyal","Dollar","Pound"]},{q:"Traditional boat?",a:"Dhow",opts:["Dhow","Kayak","Canoe","Yacht"]},{q:"How many emirates?",a:"7",opts:["5","6","7","8"]},{q:"Famous Abu Dhabi mosque?",a:"Sheikh Zayed",opts:["Blue Mosque","Sheikh Zayed","Al Aqsa","Grand Mosque"]},{q:"Sweet desert fruit?",a:"Dates",opts:["Dates","Figs","Grapes","Mangoes"]},{q:"Year UAE founded?",a:"1971",opts:["1965","1971","1975","1980"]},{q:"Traditional marketplace?",a:"Souk",opts:["Souk","Bazaar","Mall","Market"]}]),s=["rgba(255,215,0,0.06)","rgba(0,201,167,0.06)","rgba(155,89,182,0.06)","rgba(255,107,53,0.06)","rgba(78,205,196,0.06)"],l=0,d=0,c=1,g=0,p=!1,u=document.createElement("div");u.className="gflex-col gw100",u.style.alignItems="center",u.innerHTML='<div class="gtext gmb" id="daStatus" style="font-size:1.05rem;font-weight:700"><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#FFD700;margin-right:6px;box-shadow:0 0 6px rgba(255,215,0,0.4)"></span>'+(1===c?"P1":"P2")+'\'s turn!</div><div style="width:100%;max-width:400px;margin-bottom:10px"><div style="display:flex;justify-content:space-between;margin-bottom:3px"><span style="font-size:0.6rem;color:#FFD700;font-weight:700">üü° P1</span><span style="font-size:0.6rem;color:#00C9A7;font-weight:700">üü¢ '+("2p"===n?"P2":"Rashid")+'</span></div><div style="width:100%;height:6px;background:rgba(255,255,255,0.06);border-radius:4px;overflow:hidden;position:relative"><div id="daBar1" style="position:absolute;height:100%;width:0%;background:linear-gradient(90deg,#FFD700,#FF6B35);border-radius:4px;transition:width 0.5s;z-index:2"></div><div id="daBar2" style="position:absolute;height:100%;width:0%;background:linear-gradient(90deg,#00C9A7,#4ecdc4);border-radius:4px;transition:width 0.5s;opacity:0.7"></div></div></div><div style="display:flex;gap:4px;flex-wrap:wrap;max-width:400px;margin:0 auto 14px;padding:12px;background:rgba(255,255,255,0.02);border-radius:14px;border:1px solid rgba(255,215,0,0.08)" id="daBoard"></div><div style="display:flex;align-items:center;gap:16px;margin-bottom:10px"><div id="daDice" style="width:70px;height:70px;border-radius:14px;background:linear-gradient(145deg,rgba(255,215,0,0.1),rgba(255,215,0,0.04));border:2px solid rgba(255,215,0,0.2);display:flex;align-items:center;justify-content:center;font-size:2.4rem;transition:all 0.15s;box-shadow:0 4px 15px rgba(0,0,0,0.2)">üé≤</div><button class="gbtn gbtn-gold" id="daRoll" style="padding:14px 28px;font-size:1.05rem;border-radius:14px">Roll! üé≤</button></div><div class="gtext gtext-sm" id="daInfo" style="font-family:Orbitron;opacity:0.7">P1: 0 | '+("2p"===n?"P2":"Rashid")+': 0</div><div style="display:none;width:100%;max-width:340px;padding:20px;background:linear-gradient(145deg,rgba(20,20,40,0.98),rgba(15,15,30,0.98));border:2px solid rgba(155,89,182,0.4);border-radius:18px;box-shadow:0 12px 40px rgba(155,89,182,0.2);margin-top:10px;animation:popIn 0.3s ease" id="daTrivia"><div style="text-align:center;font-size:0.65rem;color:rgba(155,89,182,0.7);font-weight:700;margin-bottom:8px;letter-spacing:1px">TRIVIA CHALLENGE</div><div class="gtext gmb" id="daTriviaQ" style="font-size:1.05rem;font-weight:600"></div><div class="gflex-col" id="daTriviaOpts" style="gap:8px;width:100%"></div><div style="text-align:center;margin-top:8px;font-size:0.7rem;color:rgba(0,201,167,0.6)">Correct = +2 bonus squares!</div></div>',r.appendChild(u);for(var y=u.querySelector("#daBoard"),b=0;b<o;b++){var m=document.createElement("div"),f=(b+1)%3==0&&b>0,x=b===o-1,h=x?"rgba(255,215,0,0.15)":f?"rgba(155,89,182,0.15)":s[b%s.length],v=x?"rgba(255,215,0,0.4)":f?"rgba(155,89,182,0.3)":"rgba(255,215,0,0.1)";m.style.cssText="width:36px;height:36px;border-radius:8px;border:1.5px solid "+v+";display:flex;align-items:center;justify-content:center;font-size:0.6rem;color:rgba(255,255,255,0.5);position:relative;background:"+h+";transition:all 0.3s;font-weight:600",m.textContent=x?"üèÅ":f?"üß†":b+1,m.setAttribute("data-pos",b),y.appendChild(m)}function S(){y.querySelectorAll("[data-pos]").forEach(function(e){var t=parseInt(e.getAttribute("data-pos")),r=(t+1)%3==0&&t>0,n=t===o-1,a=t===l,i=t===d;e.style.boxShadow="none",e.style.transform="scale(1)";var s=n?"üèÅ":r?"üß†":t+1;a&&i?(e.innerHTML='<span style="font-size:0.7rem">üü°üü¢</span>',e.style.boxShadow="0 0 10px rgba(255,215,0,0.3)",e.style.transform="scale(1.1)"):a?(e.innerHTML='<span style="font-size:1rem">üü°</span>',e.style.boxShadow="0 0 10px rgba(255,215,0,0.3)",e.style.transform="scale(1.1)"):i?(e.innerHTML='<span style="font-size:1rem">üü¢</span>',e.style.boxShadow="0 0 10px rgba(0,201,167,0.3)",e.style.transform="scale(1.1)"):e.textContent=s}),u.querySelector("#daInfo").textContent="P1: "+l+" | "+("2p"===n?"P2":"Rashid")+": "+d,u.querySelector("#daBar1").style.width=l/(o-1)*100+"%",u.querySelector("#daBar2").style.width=d/(o-1)*100+"%"}function w(e,t){p=!0;var r=u.querySelector("#daDice"),n=["‚öÄ","‚öÅ","‚öÇ","‚öÉ","‚öÑ","‚öÖ"],a=0,o=setInterval(function(){var i=Math.floor(6*Math.random());r.textContent=n[i],r.style.transform="rotate("+45*a+"deg) scale(1.1)",++a>=8&&(clearInterval(o),r.textContent=n[e-1],r.style.transform="rotate(0deg) scale(1.2)",setTimeout(function(){r.style.transform="scale(1)",p=!1,t()},200))},80)}function C(){var e=1===c?"#FFD700":"#00C9A7",t=1===c?"P1":"2p"===n?"P2":"Rashid";u.querySelector("#daStatus").innerHTML='<span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:'+e+";margin-right:6px;box-shadow:0 0 6px "+e+'60"></span>'+t+"'s turn!"}function q(){var t=1+Math.floor(6*Math.random());w(t,function(){if((d=Math.min(o-1,d+t))%3==0&&d>0&&Math.random()<.5&&(d=Math.min(o-1,d+1)),S(),d>=o-1)return e.rashidSay("Rashid wins! üê´"),void e.endGame(0,1);c=1,C()})}return u.querySelector("#daRoll").onclick=function(){if(!p){var r=1+Math.floor(6*Math.random());w(r,function(){if(1===c){if(l=Math.min(o-1,l+r),S(),l>=o-1)return e.rashidSay("P1 wins! üèÜ"),void e.endGame(1,1);if(l%3==0&&l>0)return void function(r){var n=i[g%i.length];g++;var a=u.querySelector("#daTrivia");a.style.display="block",u.querySelector("#daTriviaQ").textContent="üß† "+n.q,u.querySelector("#daRoll").disabled=!0;var o=u.querySelector("#daTriviaOpts");o.innerHTML="",t(n.opts).forEach(function(t){var i=document.createElement("button");i.style.cssText="width:100%;padding:12px;border-radius:12px;background:rgba(255,255,255,0.04);border:1.5px solid rgba(155,89,182,0.25);color:#fff;cursor:pointer;transition:all 0.2s;font-size:0.9rem;font-weight:600;font-family:Inter,sans-serif",i.textContent=t,i.onmouseenter=function(){i.style.borderColor="rgba(155,89,182,0.6)",i.style.background="rgba(155,89,182,0.1)"},i.onmouseleave=function(){i.style.borderColor="rgba(155,89,182,0.25)",i.style.background="rgba(255,255,255,0.04)"},i.onclick=function(){o.querySelectorAll("button").forEach(function(e){e.disabled=!0,e.style.opacity="0.4"});var s=t.toLowerCase().indexOf(n.a.toLowerCase())>-1;s?(i.style.opacity="1",i.style.background="rgba(0,201,167,0.2)",i.style.borderColor="#00C9A7"):(i.style.opacity="1",i.style.background="rgba(255,50,50,0.2)",i.style.borderColor="#ff6b6b"),setTimeout(function(){a.style.display="none",u.querySelector("#daRoll").disabled=!1,s?(e.rashidSay("Correct! +2 bonus! üéØ"),r(2)):(e.rashidSay("Wrong! Answer: "+n.a),r(0))},600)},o.appendChild(i)})}(function(t){if(l=Math.min(o-1,l+t),S(),l>=o-1)return e.rashidSay("P1 wins! üèÜ"),void e.endGame(1,1);c=2,C(),"1p"===n&&setTimeout(q,800)});c=2,C(),"1p"===n&&setTimeout(q,800)}else if("2p"===n){if(d=Math.min(o-1,d+r),S(),d>=o-1)return e.rashidSay("P2 wins! üèÜ"),void e.endGame(0,1);c=1,C()}})}},S(),{}},destroy:function(){}}),e.register({id:"lucky-wheel",name:"Lucky Wheel",emoji:"üé°",category:"fun",has2P:!1,init:function(t,n,a){var o=[{label:"+50 XP",emoji:"‚≠ê",action:function(){return window.Progression&&Progression.addXP(50),"Won 50 XP!"}},{label:"+20 XP",emoji:"‚ú®",action:function(){return window.Progression&&Progression.addXP(20),"Won 20 XP!"}},{label:"Fun Fact",emoji:"üß†",action:function(){return r(["The UAE has 0 rivers!","Dubai police use supercars!","The UAE has its own space program!","Burj Khalifa took 6 years to build!"])}},{label:"+100 XP",emoji:"üíé",action:function(){return window.Progression&&Progression.addXP(100),"JACKPOT! 100 XP!"}},{label:"Joke",emoji:"üòÇ",action:function(){return r(["Why did the camel cross the road? To get to the other dune!","What do you call a lazy falcon? A sit-con!"])}},{label:"+10 XP",emoji:"ü™ô",action:function(){return window.Progression&&Progression.addXP(10),"Won 10 XP!"}},{label:"Challenge",emoji:"üèÜ",action:function(){return"Challenge: Name 3 emirates in 5 seconds! Go!"}},{label:"Bonus Spin",emoji:"üé°",action:function(){return"Bonus spin!"}}],i="easy"===a?5:"hard"===a?2:3,s=!1,l=0,d=300,c=300;t.style.flexDirection="column",t.style.display="flex",t.style.alignItems="center";var g=document.createElement("div");g.style.cssText="position:relative;width:300px;height:320px;display:flex;align-items:center;justify-content:center";var p=document.createElement("div");p.style.cssText="position:absolute;width:260px;height:260px;border-radius:50%;background:radial-gradient(circle,rgba(255,215,0,0.12) 0%,transparent 70%);top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none;transition:opacity 0.3s",p.id="lwGlow",g.appendChild(p);var u=document.createElement("div");u.style.cssText="position:absolute;top:0;left:50%;transform:translateX(-50%);z-index:10;font-size:1.6rem;filter:drop-shadow(0 2px 6px rgba(255,215,0,0.5));transition:transform 0.1s",u.id="lwPointer",u.textContent="üîª",g.appendChild(u);var y=e.makeCanvas(d,c);y.style.borderRadius="50%",y.style.boxShadow="0 0 30px rgba(255,215,0,0.1),0 8px 30px rgba(0,0,0,0.3)",g.appendChild(y),t.appendChild(g);var b=y.getContext("2d"),m=0,f=0,x=["#FF6B35","#FFD700","#00C9A7","#4ecdc4","#ff6b6b","#9b59b6","#3498db","#e74c3c"],h=["#cc5629","#ccac00","#009a7a","#3db0a8","#cc5555","#7c4799","#2a7ab0","#b83c32"];function v(){b.clearRect(0,0,d,c),b.fillStyle="#0a0a12",b.beginPath(),b.arc(150,150,150,0,2*Math.PI),b.fill(),b.strokeStyle="rgba(255,215,0,0.3)",b.lineWidth=3,b.beginPath(),b.arc(150,150,132,0,2*Math.PI),b.stroke();var e=2*Math.PI/o.length;o.forEach(function(t,r){b.beginPath(),b.moveTo(150,150),b.arc(150,150,130,m+r*e,m+(r+1)*e),b.closePath();var n=b.createRadialGradient(150,150,20,150,150,130);n.addColorStop(0,h[r]),n.addColorStop(1,x[r]),b.fillStyle=n,b.fill(),b.strokeStyle="rgba(255,255,255,0.15)",b.lineWidth=1.5,b.stroke(),b.save(),b.translate(150,150),b.rotate(m+(r+.5)*e),b.font="bold 16px serif",b.textAlign="center",b.textBaseline="middle",b.fillStyle="#fff",b.fillText(t.emoji,85,-4),b.font="bold 9px Inter,sans-serif",b.fillStyle="rgba(255,255,255,0.9)",b.fillText(t.label,85,10),b.restore()}),b.strokeStyle="rgba(255,215,0,0.2)",b.lineWidth=1,b.beginPath(),b.arc(150,150,40,0,2*Math.PI),b.stroke();var t=b.createRadialGradient(150,150,0,150,150,24);t.addColorStop(0,"#FFD700"),t.addColorStop(1,"#FF6B35"),b.fillStyle=t,b.beginPath(),b.arc(150,150,22,0,2*Math.PI),b.fill(),b.strokeStyle="rgba(255,255,255,0.3)",b.lineWidth=2,b.beginPath(),b.arc(150,150,22,0,2*Math.PI),b.stroke(),b.fillStyle="#000",b.font="bold 16px serif",b.textAlign="center",b.textBaseline="middle",b.fillText("üé°",150,150);for(var r=0;r<3*o.length;r++){var n=r/(3*o.length)*Math.PI*2;b.save(),b.translate(150,150),b.rotate(n),b.fillStyle=r%3==0?"rgba(255,215,0,0.6)":"rgba(255,255,255,0.2)",b.fillRect(125,-1,r%3==0?8:5,2),b.restore()}}var S=document.createElement("div");S.style.cssText="margin-top:12px;font-family:Orbitron,sans-serif;font-size:0.85rem;color:#fff;text-align:center",S.id="lwInfo",S.innerHTML='Spins left: <span style="color:#FFD700;font-weight:800">'+i+"</span>",t.appendChild(S);var w=document.createElement("button");w.className="gbtn gbtn-gold",w.style.cssText="margin-top:10px;padding:16px 40px;font-size:1.15rem;border-radius:16px;letter-spacing:1px",w.textContent="SPIN! üé°",w.id="lwSpin",t.appendChild(w);var C=document.createElement("div");return C.id="lwResult",C.style.cssText="margin-top:14px;padding:16px 24px;background:linear-gradient(145deg,rgba(20,20,40,0.95),rgba(15,15,30,0.95));border:2px solid rgba(255,215,0,0.2);border-radius:16px;text-align:center;min-width:250px;opacity:0;transform:scale(0.9);transition:all 0.4s cubic-bezier(0.34,1.56,0.64,1);box-shadow:0 8px 30px rgba(0,0,0,0.3)",C.innerHTML='<div id="lwResultEmoji" style="font-size:2rem;margin-bottom:4px"></div><div id="lwResultText" class="gtext" style="font-weight:700;font-size:1rem"></div>',t.appendChild(C),w.onclick=function(){if(!(s||i<=0)){s=!0,i--,S.innerHTML='Spins left: <span style="color:#FFD700;font-weight:800">'+i+"</span>",C.style.opacity="0",C.style.transform="scale(0.9)",f=15+10*Math.random(),p.style.background="radial-gradient(circle,rgba(255,215,0,0.25) 0%,transparent 70%)",w.style.transform="scale(0.95)",w.style.opacity="0.6";var t=document.getElementById("lwPointer");!function n(){if(m+=.01*f,f*=.985,v(),f>5&&t?t.style.transform="translateX(-50%) rotate("+8*Math.sin(10*m)+"deg)":t&&(t.style.transform="translateX(-50%) rotate(0deg)"),f>.5)requestAnimationFrame(n);else{s=!1,p.style.background="radial-gradient(circle,rgba(255,215,0,0.12) 0%,transparent 70%)",w.style.transform="scale(1)",w.style.opacity="1";var a=2*Math.PI/o.length,d=(2*Math.PI-m%(2*Math.PI)+Math.PI/2)%(2*Math.PI),c=Math.floor(d/a)%o.length,g=o[c],u=g.action();!function(e,t){C.querySelector("#lwResultEmoji").textContent=e,C.querySelector("#lwResultText").textContent=t,C.style.opacity="1",C.style.transform="scale(1)",C.style.borderColor="rgba(255,215,0,0.5)",C.style.boxShadow="0 8px 30px rgba(255,215,0,0.15),0 0 40px rgba(255,215,0,0.05)";for(var n=0;n<8;n++){var a=document.createElement("div");a.className="gconfetti",a.style.left=30+40*Math.random()+"%",a.style.background=r(["#FFD700","#FF6B35","#00C9A7","#9b59b6","#ff6b6b"]),a.style.animationDuration=1.5+Math.random()+"s",document.body.appendChild(a),setTimeout(function(e){return function(){e.parentNode&&e.parentNode.removeChild(e)}}(a),2500)}}(g.emoji,u),e.rashidSay(u),l++,"Bonus Spin"===g.label?(i++,S.innerHTML='Spins left: <span style="color:#FFD700;font-weight:800">'+i+"</span> (BONUS!)"):S.innerHTML='Spins left: <span style="color:#FFD700;font-weight:800">'+i+"</span>",i<=0&&(w.disabled=!0,w.style.opacity="0.4",setTimeout(function(){e.endGame(l,l)},2e3))}}()}},v(),{}},destroy:function(){}})}();