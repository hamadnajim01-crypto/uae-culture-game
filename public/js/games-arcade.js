!function(){var e=window.GamesEngine,t=(e.shuffle,e.pick),n=e.clamp;function r(e,t,n,r,a){var i=e.createLinearGradient(0,0,0,n);i.addColorStop(0,r),i.addColorStop(1,a),e.fillStyle=i,e.fillRect(0,0,t,n)}function a(e,t,n){e.shadowColor=t,e.shadowBlur=n||15}function i(e){e.shadowColor="transparent",e.shadowBlur=0}function l(e,t,n,r,a,i){e.beginPath(),e.moveTo(t+i,n),e.lineTo(t+r-i,n),e.quadraticCurveTo(t+r,n,t+r,n+i),e.lineTo(t+r,n+a-i),e.quadraticCurveTo(t+r,n+a,t+r-i,n+a),e.lineTo(t+i,n+a),e.quadraticCurveTo(t,n+a,t,n+a-i),e.lineTo(t,n+i),e.quadraticCurveTo(t,n,t+i,n),e.closePath()}function o(e,t,n,r,a,i,o,d){if(e.fillStyle="rgba(255,255,255,0.08)",l(e,t,n,r,a,a/2),e.fill(),i>0){var f=e.createLinearGradient(t,n,t+r,n);f.addColorStop(0,o),f.addColorStop(1,d),e.fillStyle=f,l(e,t,n,r*Math.max(0,i),a,a/2),e.fill()}}function d(){this.p=[]}d.prototype.emit=function(e,t,n,r,a){r=r||6,a=a||3;for(var i=0;i<r;i++)this.p.push({x:e,y:t,vx:(Math.random()-.5)*a*2,vy:(Math.random()-.5)*a*2-1,life:1,c:n,r:1.5+2*Math.random()})},d.prototype.tick=function(e){for(var t=this.p.length-1;t>=0;t--){var n=this.p[t];n.x+=n.vx,n.y+=n.vy,n.vy+=.05,n.life-=.025,n.life<=0?this.p.splice(t,1):(e.globalAlpha=n.life,e.fillStyle=n.c,e.beginPath(),e.arc(n.x,n.y,n.r*n.life,0,2*Math.PI),e.fill())}e.globalAlpha=1};var f={};function s(e,t,n,r){var a=t+"x"+n;if(!f[a]){for(var i=[],l=0;l<(r||50);l++)i.push({x:Math.random()*t,y:Math.random()*n,a:.15+.5*Math.random(),s:.5+1.5*Math.random()});f[a]=i}var o=f[a];for(l=0;l<o.length;l++)e.fillStyle="rgba(255,255,255,"+o[l].a+")",e.fillRect(o[l].x,o[l].y,o[l].s,o[l].s)}e.register({id:"desert-snake",name:"Desert Snake",emoji:"üêç",category:"arcade",has2P:!1,_iv:null,init:function(n,o,f){var s=20,h=15,c=24,y="easy"===f?190:"hard"===f?95:140,x=e.makeCanvas(480,360);n.appendChild(x);var u=x.getContext("2d"),v=[{x:10,y:7}],p={x:1,y:0},g=null,m=0,b=!1,S=new d,w=0;function F(){g={x:Math.floor(Math.random()*s),y:Math.floor(Math.random()*h)}}function _(){r(u,480,360,"#0d1b2a","#1b2d1b"),u.strokeStyle="rgba(255,215,0,0.04)";for(var e=0;e<=s;e++)u.beginPath(),u.moveTo(e*c,0),u.lineTo(e*c,360),u.stroke();for(var t=0;t<=h;t++)u.beginPath(),u.moveTo(0,t*c),u.lineTo(480,t*c),u.stroke();w+=.08;var n=12+3*Math.sin(w);a(u,"#FF6B35",18+8*Math.sin(w)),u.fillStyle="#FF6B35",u.beginPath(),u.arc(g.x*c+12,g.y*c+12,n-2,0,2*Math.PI),u.fill(),i(u),u.fillStyle="#fff",u.font="20px serif",u.textAlign="center",u.textBaseline="middle",u.fillText("üå¥",g.x*c+12,g.y*c+12),v.forEach(function(e,t){var n=1-t/(v.length||1),r=Math.round(255*n),o=Math.round(215*n+40*(1-n));if(0===t?(u.fillStyle="#FFD700",a(u,"#FFD700",10)):(u.fillStyle="rgb("+r+","+o+",0)",i(u)),l(u,e.x*c+1,e.y*c+1,22,22,5),u.fill(),i(u),0===t){u.fillStyle="#000";var d=e.x*c+6,f=e.x*c+c-9,s=e.y*c+7;u.beginPath(),u.arc(d+2,s,2.5,0,2*Math.PI),u.fill(),u.beginPath(),u.arc(f+2,s,2.5,0,2*Math.PI),u.fill()}}),S.tick(u),a(u,"#FFD700",8),u.fillStyle="#FFD700",u.font="bold 16px Orbitron",u.textAlign="left",u.textBaseline="top",u.fillText("üå¥ "+m,8,6),i(u),b&&(u.fillStyle="rgba(0,0,0,0.7)",u.fillRect(0,0,480,360),a(u,"#FFD700",20),u.fillStyle="#FFD700",u.font="bold 30px Orbitron",u.textAlign="center",u.textBaseline="middle",u.fillText("GAME OVER",240,170),i(u),u.fillStyle="#fff",u.font="16px Inter",u.fillText("Score: "+m,240,205))}F(),this._iv=setInterval(function(){if(!b){var n={x:v[0].x+p.x,y:v[0].y+p.y};if(n.x<0||n.x>=s||n.y<0||n.y>=h)return b=!0,_(),void e.endGame(m,m||1);for(var r=0;r<v.length;r++)if(v[r].x===n.x&&v[r].y===n.y)return b=!0,_(),void e.endGame(m,m||1);v.unshift(n),n.x===g.x&&n.y===g.y?(m++,e.setScore(m),F(),S.emit(n.x*c+12,n.y*c+12,"#FFD700",10,4),e.rashidSay(t(["Yum! üå¥","Tasty date!","Keep going! üêç","Delicious! üòã"]))):v.pop(),_()}},y),_(),this._keyHandler=function(e){b||("ArrowUp"===e.key&&0===p.y?p={x:0,y:-1}:"ArrowDown"===e.key&&0===p.y?p={x:0,y:1}:"ArrowLeft"===e.key&&0===p.x?p={x:-1,y:0}:"ArrowRight"===e.key&&0===p.x&&(p={x:1,y:0}),e.preventDefault())},document.addEventListener("keydown",this._keyHandler);var C=null;return this._touchStart=function(e){C={x:e.touches[0].clientX,y:e.touches[0].clientY}},this._touchEnd=function(e){if(C){var t=e.changedTouches[0].clientX-C.x,n=e.changedTouches[0].clientY-C.y;Math.abs(t)>Math.abs(n)?t>20&&0===p.x?p={x:1,y:0}:t<-20&&0===p.x&&(p={x:-1,y:0}):n>20&&0===p.y?p={x:0,y:1}:n<-20&&0===p.y&&(p={x:0,y:-1}),C=null}},x.addEventListener("touchstart",this._touchStart),x.addEventListener("touchend",this._touchEnd),{}},destroy:function(){this._iv&&clearInterval(this._iv),this._keyHandler&&document.removeEventListener("keydown",this._keyHandler)}}),e.register({id:"flappy-falcon",name:"Flappy Falcon",emoji:"ü¶Ö",category:"arcade",has2P:!1,_running:!1,init:function(o,f,h){var c=400,y=500,x=e.makeCanvas(c,y);o.appendChild(x);for(var u=x.getContext("2d"),v={y:250,vy:0,tilt:0},p="easy"===h?.28:"hard"===h?.42:.35,g=[],m="easy"===h?160:"hard"===h?100:130,b=50,S="easy"===h?1.8:"hard"===h?3:2.2,w=0,F=0,_=!1,C=!1,M=new d,k=[],A=0;A<5;A++)k.push({x:Math.random()*c,y:30+150*Math.random(),w:40+60*Math.random(),speed:.2+.4*Math.random()});this._running=!0;var D=this;function T(){if(C&&!_){if(v.vy+=p,v.y+=v.vy,v.y>460||v.y<0)return _=!0,void e.endGame(F,F||1);var n;++w>90&&(n=60+Math.random()*(y-m-120),g.push({x:c,topH:n,scored:!1}),w=0);for(var r=g.length-1;r>=0;r--)if(g[r].x-=S,g[r].x+b<0)g.splice(r,1);else if(!g[r].scored&&g[r].x+b<80&&(g[r].scored=!0,F++,e.setScore(F),M.emit(80,v.y,"#FFD700",6,2),F%5==0&&e.rashidSay(t(["Amazing flying! ü¶Ö","Keep soaring!",F+" pipes! Wow!"]))),94>g[r].x&&66<g[r].x+b&&(v.y-14<g[r].topH||v.y+14>g[r].topH+m))return _=!0,void e.endGame(F,F||1)}}function P(){_||(C||(C=!0),v.vy=-6.5)}return e.loop(function(){D._running&&(T(),function(){r(u,c,y,"#1a0533","#c94b22"),u.globalAlpha=.4,s(u,c,250,30),u.globalAlpha=1,k.forEach(function(e){e.x-=e.speed,e.x<-e.w&&(e.x=420),u.fillStyle="rgba(255,255,255,0.06)",u.beginPath(),u.ellipse(e.x,e.y,e.w/2,12,0,0,2*Math.PI),u.fill()});var e=u.createLinearGradient(0,470,0,y);e.addColorStop(0,"#C4935A"),e.addColorStop(1,"#8B6914"),u.fillStyle=e,u.fillRect(0,470,c,30),u.fillStyle="rgba(0,0,0,0.15)";for(var t=0;t<c;t+=20)u.beginPath(),u.arc(t,485,2,0,2*Math.PI),u.fill();g.forEach(function(e){var t=u.createLinearGradient(e.x,0,e.x+b,0);t.addColorStop(0,"#009977"),t.addColorStop(.5,"#00C9A7"),t.addColorStop(1,"#009977"),u.fillStyle=t,u.fillRect(e.x,0,b,e.topH),u.fillRect(e.x,e.topH+m,b,y-e.topH-m-30);var n=u.createLinearGradient(e.x-4,0,e.x+b+4,0);n.addColorStop(0,"#FFB700"),n.addColorStop(.5,"#FFD700"),n.addColorStop(1,"#FFB700"),u.fillStyle=n,l(u,e.x-4,e.topH-10,58,10,3),u.fill(),l(u,e.x-4,e.topH+m,58,10,3),u.fill()}),v.tilt=n(3*v.vy,-30,45),u.save(),u.translate(80,v.y),u.rotate(v.tilt*Math.PI/180),u.font="30px serif",u.textAlign="center",u.textBaseline="middle",u.fillText("ü¶Ö",0,0),u.restore(),M.tick(u),a(u,"#fff",10),u.fillStyle="#fff",u.font="bold 28px Orbitron",u.textAlign="center",u.fillText(F,200,45),i(u),C||(u.fillStyle="rgba(0,0,0,0.3)",u.fillRect(0,280,c,40),u.fillStyle="#FFD700",u.font="bold 16px Inter",u.fillText("Click or Tap to Start",200,305)),_&&(u.fillStyle="rgba(0,0,0,0.65)",u.fillRect(0,0,c,y),a(u,"#FFD700",25),u.fillStyle="#FFD700",u.font="bold 32px Orbitron",u.fillText("GAME OVER",200,240),i(u),u.fillStyle="#fff",u.font="18px Inter",u.fillText("Score: "+F,200,280))}())}),x.onclick=P,x.ontouchstart=function(e){e.preventDefault(),P()},this._keyHandler=function(e){"Space"===e.code&&(e.preventDefault(),P())},document.addEventListener("keydown",this._keyHandler),{}},destroy:function(){this._running=!1,this._keyHandler&&document.removeEventListener("keydown",this._keyHandler)}}),e.register({id:"catch-dates",name:"Catch the Dates",emoji:"üå¥",category:"arcade",has2P:!1,_running:!1,init:function(o,f,s){var h=400,c=500,y=e.makeCanvas(h,c);o.appendChild(y);var x=y.getContext("2d"),u="easy"===s?5:"hard"===s?2:3,v="easy"===s?1.5:"hard"===s?3:2,p="easy"===s?50:"hard"===s?30:40,g={x:200,w:"easy"===s?80:"hard"===s?50:60},m=[],b=0,S=0,w=0,F=new d;this._running=!0;var _=this;return e.loop(function(){if(_._running){++w>p&&(m.push({x:20+360*Math.random(),y:-20,speed:v+2*Math.random(),rot:.1*Math.random()-.05}),w=0);for(var n=m.length-1;n>=0;n--)if(m[n].y+=m[n].speed,m[n].rot+=.02,m[n].y>445&&Math.abs(m[n].x-g.x)<g.w/2+15)F.emit(m[n].x,445,"#FFD700",8,3),m.splice(n,1),S++,e.setScore(S),e.rashidSay(t(["Caught it! üå¥","Nice! üòã","Yummy!","Great catch!"]));else if(m[n].y>c&&(F.emit(m[n].x,490,"#ff4444",4,2),m.splice(n,1),++b>=u))return _._running=!1,void e.endGame(S,S||1);r(x,h,c,"#0d1b3e","#1a3a5c");var o=x.createLinearGradient(0,475,0,c);o.addColorStop(0,"#C4935A"),o.addColorStop(1,"#8B6914"),x.fillStyle=o,x.fillRect(0,475,h,25),m.forEach(function(e){x.save(),x.translate(e.x,e.y),x.rotate(e.rot),x.font="24px serif",x.textAlign="center",x.textBaseline="middle",x.fillText("üå¥",0,0),x.restore()}),a(x,"#FF6B35",12);var d=x.createLinearGradient(g.x-g.w/2,450,g.x+g.w/2,450);d.addColorStop(0,"#CC5522"),d.addColorStop(.5,"#FF6B35"),d.addColorStop(1,"#CC5522"),x.fillStyle=d,l(x,g.x-g.w/2,450,g.w,22,6),x.fill(),i(x),x.font="14px serif",x.textAlign="center",x.fillText("üß∫",g.x,466),F.tick(x),x.fillStyle="#fff",x.font="13px Inter",x.textAlign="left";for(var f="",s=0;s<u;s++)f+=s<u-b?"‚ù§Ô∏è":"üñ§";x.fillText(f,10,22),a(x,"#FFD700",6),x.fillStyle="#FFD700",x.font="bold 16px Orbitron",x.textAlign="right",x.fillText(S,388,22),i(x)}}),this._moveHandler=function(e){var t=y.getBoundingClientRect();g.x=n((e.clientX-t.left)/(t.width/h),g.w/2,h-g.w/2)},this._touchHandler=function(e){e.preventDefault();var t=y.getBoundingClientRect();g.x=n((e.touches[0].clientX-t.left)/(t.width/h),g.w/2,h-g.w/2)},y.addEventListener("mousemove",this._moveHandler),y.addEventListener("touchmove",this._touchHandler),{}},destroy:function(){this._running=!1}}),e.register({id:"whack-camel",name:"Whack-a-Camel",emoji:"üê´",category:"arcade",has2P:!1,_iv:null,_tv:null,init:function(n,r,a){var i="easy"===a?40:"hard"===a?20:30,l="easy"===a?1200:"hard"===a?700:1e3,o=document.createElement("div");o.className="gflex-col gw100",o.innerHTML='<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;width:100%;max-width:310px"><span style="color:#FFD700;font:bold 18px Orbitron" id="wacScore">0</span><div style="flex:1;margin:0 12px;height:10px;background:rgba(255,255,255,0.08);border-radius:5px;overflow:hidden"><div id="wacBar" style="height:100%;width:100%;background:linear-gradient(90deg,#FF6B35,#FFD700);border-radius:5px;transition:width 0.3s"></div></div><span style="color:#fff;font:14px Orbitron" id="wacTimer">'+i+'s</span></div><div class="gboard" style="grid-template-columns:repeat(3,95px);gap:8px" id="wacGrid"></div>',n.appendChild(o);for(var d=o.querySelector("#wacGrid"),f=[],s=0;s<9;s++){var h=document.createElement("div");h.className="gcell",h.style.cssText="height:95px;font-size:2.8rem;background:radial-gradient(circle,rgba(139,105,20,0.25),rgba(10,10,18,0.5));border:2px solid rgba(139,105,20,0.3);border-radius:50%;cursor:pointer;transition:transform 0.15s,box-shadow 0.15s;display:flex;align-items:center;justify-content:center",h.textContent="üï≥Ô∏è",h.setAttribute("data-i",s),d.appendChild(h),f.push(h)}var c=0,y=i,x=-1,u=this;function v(){x>=0&&(f[x].textContent="üï≥Ô∏è",f[x].style.transform="",f[x].style.boxShadow=""),x=Math.floor(9*Math.random()),f[x].textContent="üê´",f[x].style.transform="scale(1.15)",f[x].style.boxShadow="0 0 20px rgba(255,107,53,0.5)"}return f.forEach(function(n,r){n.onclick=function(){r===x?(c++,e.setScore(c),o.querySelector("#wacScore").textContent=c,n.textContent="üí•",n.style.transform="scale(0.85)",n.style.boxShadow="0 0 25px rgba(255,215,0,0.6)",n.style.background="radial-gradient(circle,rgba(255,215,0,0.3),rgba(10,10,18,0.5))",setTimeout(function(){n.textContent="üï≥Ô∏è",n.style.transform="",n.style.boxShadow="",n.style.background="radial-gradient(circle,rgba(139,105,20,0.25),rgba(10,10,18,0.5))"},250),x=-1,e.rashidSay(t(["WHACK! üí•","Got it! üéØ","Nice hit!","Boom! üí™"]))):(n.style.transform="scale(0.95)",setTimeout(function(){n.style.transform=""},150))}}),v(),this._iv=setInterval(v,l),this._tv=setInterval(function(){y--,o.querySelector("#wacTimer").textContent=y+"s",o.querySelector("#wacBar").style.width=y/i*100+"%",y<=5&&(o.querySelector("#wacBar").style.background="linear-gradient(90deg,#ff3232,#FF6B35)"),y<=0&&(clearInterval(u._iv),clearInterval(u._tv),e.endGame(c,i))},1e3),{}},destroy:function(){this._iv&&clearInterval(this._iv),this._tv&&clearInterval(this._tv)}}),e.register({id:"brick-breaker",name:"Brick Breaker",emoji:"üß±",category:"arcade",has2P:!1,_running:!1,init:function(t,o,f){var s=400,h=500,c=e.makeCanvas(s,h);t.appendChild(c);for(var y=c.getContext("2d"),x="easy"===f?2.5:"hard"===f?4:3,u={x:200,w:"easy"===f?90:"hard"===f?55:70,h:14},v={x:200,y:450,vx:x,vy:-x,r:7},p=[],g="easy"===f?4:"hard"===f?6:5,m=["#FF6B35","#FFD700","#00C9A7","#4ecdc4","#ff6b6b","#9b59b6"],b=0,S=8*g,w="easy"===f?5:"hard"===f?2:3,F=[],_=new d,C=0;C<g;C++)for(var M=0;M<8;M++)p.push({x:50*M+2,y:26*C+45,w:46,h:22,alive:!0,color:m[C%m.length]});this._running=!0;var k=this;return e.loop(function(){if(k._running){if(F.push({x:v.x,y:v.y}),F.length>8&&F.shift(),v.x+=v.vx,v.y+=v.vy,(v.x<v.r||v.x>s-v.r)&&(v.vx*=-1),v.y<v.r&&(v.vy*=-1),v.y>h){if(--w<=0)return k._running=!1,void e.endGame(b,S);v.x=200,v.y=450,v.vy=-x,v.vx=x,F=[]}v.y+v.r>468&&v.x>u.x-u.w/2&&v.x<u.x+u.w/2&&v.vy>0&&(v.vy*=-1,v.vx=(v.x-u.x)/(u.w/2)*4,_.emit(v.x,v.y,"#FFD700",4,2));for(var t=0;t<p.length;t++){var n=p[t];if(n.alive&&(v.x+v.r>n.x&&v.x-v.r<n.x+n.w&&v.y+v.r>n.y&&v.y-v.r<n.y+n.h)){if(n.alive=!1,v.vy*=-1,b++,e.setScore(b),_.emit(n.x+n.w/2,n.y+n.h/2,n.color,10,4),b===S)return k._running=!1,void e.endGame(b,S);break}}r(y,s,h,"#0a0a1a","#0d1b2a"),p.forEach(function(e){if(e.alive){var t=y.createLinearGradient(e.x,e.y,e.x,e.y+e.h);t.addColorStop(0,e.color),t.addColorStop(1,"rgba(0,0,0,0.3)"),y.fillStyle=t,l(y,e.x,e.y,e.w,e.h,3),y.fill(),y.fillStyle="rgba(255,255,255,0.15)",y.fillRect(e.x+2,e.y+1,e.w-4,e.h/3)}});for(var o=0;o<F.length;o++){var d=(o+1)/F.length*.3;y.fillStyle="rgba(255,255,255,"+d+")",y.beginPath(),y.arc(F[o].x,F[o].y,v.r*(o/F.length),0,2*Math.PI),y.fill()}a(y,"#FFD700",10);var c=y.createLinearGradient(u.x-u.w/2,0,u.x+u.w/2,0);c.addColorStop(0,"#CC9900"),c.addColorStop(.5,"#FFD700"),c.addColorStop(1,"#CC9900"),y.fillStyle=c,l(y,u.x-u.w/2,468,u.w,u.h,4),y.fill(),i(y),a(y,"#fff",12),y.fillStyle="#fff",y.beginPath(),y.arc(v.x,v.y,v.r,0,2*Math.PI),y.fill(),i(y),_.tick(y),y.fillStyle="#fff",y.font="13px Inter",y.textAlign="left";for(var g="",m=0;m<("easy"===f?5:"hard"===f?2:3);m++)g+=m<w?"‚ù§Ô∏è":"üñ§";y.fillText(g,8,20),a(y,"#FFD700",6),y.fillStyle="#FFD700",y.font="bold 14px Orbitron",y.textAlign="right",y.fillText(b+"/"+S,392,20),i(y)}}),this._moveHandler=function(e){var t=c.getBoundingClientRect();u.x=n((e.clientX-t.left)/(t.width/s),u.w/2,s-u.w/2)},this._touchHandler=function(e){e.preventDefault();var t=c.getBoundingClientRect();u.x=n((e.touches[0].clientX-t.left)/(t.width/s),u.w/2,s-u.w/2)},c.addEventListener("mousemove",this._moveHandler),c.addEventListener("touchmove",this._touchHandler),{}},destroy:function(){this._running=!1}}),e.register({id:"pearl-diver",name:"Pearl Diver",emoji:"ü§ø",category:"arcade",has2P:!1,_running:!1,init:function(l,f,s){var h=400,c=500,y=e.makeCanvas(h,c);l.appendChild(y);for(var x=y.getContext("2d"),u={x:200,y:50},v={},p="easy"===s?8:"hard"===s?15:12,g="easy"===s?3:"hard"===s?10:6,m="easy"===s?.03:"hard"===s?.08:.05,b=[],S=[],w=0,F=100,_=[],C=new d,M=0;M<p;M++)b.push({x:30+340*Math.random(),y:80+370*Math.random(),collected:!1,pulse:6*Math.random()});for(var k=0;k<g;k++)S.push({x:30+340*Math.random(),y:80+370*Math.random(),vx:2*(Math.random()-.5),bob:6*Math.random()});this._running=!0;var A=this;return this._keyHandler=function(e){v[e.key]="keydown"===e.type,["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].indexOf(e.key)>-1&&e.preventDefault()},document.addEventListener("keydown",this._keyHandler),document.addEventListener("keyup",this._keyHandler),e.loop(function(){if(A._running){if((v.ArrowUp||v.w)&&(u.y-=3),(v.ArrowDown||v.s)&&(u.y+=3),(v.ArrowLeft||v.a)&&(u.x-=3),(v.ArrowRight||v.d)&&(u.x+=3),u.x=n(u.x,15,385),u.y=n(u.y,15,485),(F-=m)<=0)return A._running=!1,void e.endGame(w,b.length);if(b.forEach(function(n){n.collected||Math.abs(u.x-n.x)<20&&Math.abs(u.y-n.y)<20&&(n.collected=!0,w++,e.setScore(w),F=Math.min(100,F+8),C.emit(n.x,n.y,"#FFD700",10,4),e.rashidSay(t(["Pearl found! ü¶™","Beautiful! ‚ú®","Keep diving!"])))}),w===b.length)return A._running=!1,void e.endGame(w,b.length);S.forEach(function(t){t.x+=t.vx,t.bob+=.04,(t.x<10||t.x>390)&&(t.vx*=-1),Math.abs(u.x-t.x)<18&&Math.abs(u.y-t.y)<18&&(F-=15,C.emit(t.x,t.y,"#ff4444",6,3),e.rashidSay("Ouch! Jellyfish! üò£"),t.x=-50)}),Math.random()<.06&&_.push({x:u.x+10*(Math.random()-.5),y:u.y-5,r:1+3*Math.random(),speed:.5+Math.random()});for(var l=_.length-1;l>=0;l--)_[l].y-=_[l].speed,_[l].x+=.3*Math.sin(.05*_[l].y),_[l].y<-5&&_.splice(l,1);r(x,h,c,"#0a1a3a","#05102a"),x.save(),x.globalAlpha=.03;for(var d=0;d<5;d++)x.fillStyle="#4ecdc4",x.beginPath(),x.moveTo(50+80*d,0),x.lineTo(30+80*d,c),x.lineTo(70+80*d,c),x.fill();x.restore(),_.forEach(function(e){x.strokeStyle="rgba(255,255,255,0.2)",x.lineWidth=1,x.beginPath(),x.arc(e.x,e.y,e.r,0,2*Math.PI),x.stroke()}),x.font="22px serif",x.textAlign="center",x.textBaseline="middle",b.forEach(function(e){e.collected||(e.pulse+=.06,a(x,"#FFD700",10+5*Math.sin(e.pulse)),x.fillText("ü¶™",e.x,e.y),i(x))}),S.forEach(function(e){var t=5*Math.sin(e.bob);a(x,"#ff6bff",8),x.fillText("ü™º",e.x,e.y+t),i(x)}),a(x,"#00C9A7",10),x.fillText("ü§ø",u.x,u.y),i(x),C.tick(x),o(x,15,12,370,12,F/100,F>30?"#00C9A7":"#ff3232",F>30?"#4ecdc4":"#ff6b6b"),x.fillStyle="#fff",x.font="10px Inter",x.textAlign="left",x.textBaseline="top",x.fillText("O‚ÇÇ "+Math.round(F)+"%",18,28),a(x,"#FFD700",5),x.fillStyle="#FFD700",x.font="bold 12px Orbitron",x.textAlign="right",x.fillText("ü¶™ "+w+"/"+b.length,385,28),i(x)}}),{}},destroy:function(){this._running=!1,this._keyHandler&&(document.removeEventListener("keydown",this._keyHandler),document.removeEventListener("keyup",this._keyHandler))}}),e.register({id:"dune-jumper",name:"Dune Jumper",emoji:"üèúÔ∏è",category:"arcade",has2P:!1,_running:!1,init:function(n,o,d){var f=500,s=300,h=e.makeCanvas(f,s);n.appendChild(h);for(var c=h.getContext("2d"),y="easy"===d?3:"hard"===d?5.5:4,x="easy"===d?.08:"hard"===d?.25:.15,u={x:80,y:240,vy:0,jumping:!1},v=260,p=[],g=0,m=y,b=0,S=[],w=[],F=0;F<6;F++)w.push({x:100*F,h:15+30*Math.random()});this._running=!0;var _=this;function C(){u.jumping||(u.vy=-10,u.jumping=!0)}return e.loop(function(){if(_._running){if(u.vy+=.5,u.y+=u.vy,u.y>=240){if(u.y=240,u.vy=0,u.jumping)for(var n=0;n<4;n++)S.push({x:u.x+10*(Math.random()-.5),y:v,vx:2*(Math.random()-.5),vy:2*-Math.random(),life:1});u.jumping=!1}++b>60+40*Math.random()&&(p.push({x:520,w:20+15*Math.random(),h:25+20*Math.random()}),b=0);for(var o=p.length-1;o>=0;o--)if(p[o].x-=m,p[o].x+p[o].w<0)p.splice(o,1),g++,e.setScore(g),m=y+g*x,g%10==0&&e.rashidSay(t([g+"m! Keep running! üèÉ","Amazing distance!","You can do it! üí™"]));else if(u.x+12>p[o].x&&u.x-12<p[o].x+p[o].w&&u.y+20>v-p[o].h)return _._running=!1,void e.endGame(g,g||1);for(var d=S.length-1;d>=0;d--){var h=S[d];h.x+=h.vx,h.y+=h.vy,h.life-=.04,h.life<=0&&S.splice(d,1)}r(c,f,s,"#1a0533","#c94b22"),a(c,"#FFD700",30),c.fillStyle="#FFD700",c.beginPath(),c.arc(440,50,25,0,2*Math.PI),c.fill(),i(c),c.fillStyle="rgba(139,105,20,0.2)",w.forEach(function(e){e.x-=.3*m,e.x<-100&&(e.x=550),c.beginPath(),c.moveTo(e.x,v),c.quadraticCurveTo(e.x+50,v-e.h,e.x+100,v),c.fill()});var F=c.createLinearGradient(0,v,0,s);F.addColorStop(0,"#C4935A"),F.addColorStop(1,"#8B6914"),c.fillStyle=F,c.fillRect(0,v,f,40),c.fillStyle="rgba(0,0,0,0.1)";for(var C=0;C<f;C+=15)c.fillRect(C,262,6,1);p.forEach(function(e){var t=c.createLinearGradient(e.x,v-e.h,e.x,v);t.addColorStop(0,"#6B3410"),t.addColorStop(1,"#8B4513"),c.fillStyle=t,l(c,e.x,v-e.h,e.w,e.h,3),c.fill(),c.font="16px serif",c.textAlign="center",c.fillText("üåµ",e.x+e.w/2,v-e.h-6)}),S.forEach(function(e){c.globalAlpha=.5*e.life,c.fillStyle="#C4935A",c.beginPath(),c.arc(e.x,e.y,2,0,2*Math.PI),c.fill()}),c.globalAlpha=1,c.font="26px serif",c.textAlign="center",c.fillText("üèÉ",u.x,u.y+14),a(c,"#FFD700",8),c.fillStyle="#FFD700",c.font="bold 18px Orbitron",c.textAlign="right",c.fillText(g+"m",485,28),i(c),c.fillStyle="rgba(255,255,255,0.5)",c.font="11px Inter",c.fillText("Speed: "+m.toFixed(1)+"x",485,46)}}),h.onclick=C,h.ontouchstart=function(e){e.preventDefault(),C()},this._keyHandler=function(e){"Space"!==e.code&&"ArrowUp"!==e.key||(e.preventDefault(),C())},document.addEventListener("keydown",this._keyHandler),{}},destroy:function(){this._running=!1,this._keyHandler&&document.removeEventListener("keydown",this._keyHandler)}}),e.register({id:"balloon-pop",name:"Balloon Pop",emoji:"üéà",category:"arcade",has2P:!1,_running:!1,_tv:null,init:function(n,l,f){var h=400,c=500,y=e.makeCanvas(h,c);n.appendChild(y);var x=y.getContext("2d"),u="easy"===f?40:"hard"===f?20:30,v="easy"===f?1:"hard"===f?2.5:1.5,p=[],g=0,m=u,b=["#ff4444","#FFD700","#00C9A7","#4488ff","#9b59b6","#FF6B35"],S=new d;this._running=!0;var w=this;function F(){var e=t(b);p.push({x:20+360*Math.random(),y:530,speed:v+2*Math.random(),color:e,r:16+10*Math.random(),wobble:6*Math.random()})}for(var _=0;_<5;_++)F(),p[_].y=100+300*Math.random();function C(t,n){for(var r=y.getBoundingClientRect(),a=t/(r.width/h),i=n/(r.height/c),l=p.length-1;l>=0;l--){var o=p[l],d=a-o.x,f=i-o.y;if(d*d/(o.r*o.r*.64)+f*f/(o.r*o.r)<1){S.emit(o.x,o.y,o.color,12,5),p.splice(l,1),g++,e.setScore(g);break}}}return e.loop(function(){w._running&&(Math.random()<.035&&F(),p.forEach(function(e){e.y-=e.speed,e.wobble+=.04,e.x+=.5*Math.sin(e.wobble)}),p=p.filter(function(e){return e.y>-50}),r(x,h,c,"#0d1b3e","#4a1a6b"),s(x,h,c,40),p.forEach(function(e){x.strokeStyle="rgba(255,255,255,0.2)",x.lineWidth=1,x.beginPath(),x.moveTo(e.x,e.y+e.r),x.lineTo(e.x+5*Math.sin(e.wobble),e.y+e.r+25),x.stroke(),a(x,e.color,8),x.fillStyle=e.color,x.beginPath(),x.ellipse(e.x,e.y,.8*e.r,e.r,0,0,2*Math.PI),x.fill(),x.fillStyle="rgba(255,255,255,0.25)",x.beginPath(),x.ellipse(e.x-.25*e.r,e.y-.3*e.r,.25*e.r,.35*e.r,-.3,0,2*Math.PI),x.fill(),i(x),x.fillStyle=e.color,x.beginPath(),x.moveTo(e.x-3,e.y+e.r),x.lineTo(e.x+3,e.y+e.r),x.lineTo(e.x,e.y+e.r+5),x.fill()}),S.tick(x),o(x,15,12,370,10,m/u,"#FF6B35","#FFD700"),a(x,"#FFD700",6),x.fillStyle="#FFD700",x.font="bold 20px Orbitron",x.textAlign="center",x.fillText(g,200,45),i(x),x.fillStyle="rgba(255,255,255,0.5)",x.font="11px Inter",x.fillText(m+"s",200,58))}),y.onclick=function(e){var t=y.getBoundingClientRect();C(e.clientX-t.left,e.clientY-t.top)},y.ontouchstart=function(e){e.preventDefault();var t=e.touches[0],n=y.getBoundingClientRect();C(t.clientX-n.left,t.clientY-n.top)},this._tv=setInterval(function(){--m<=0&&(w._running=!1,clearInterval(w._tv),e.endGame(g,g||1))},1e3),{}},destroy:function(){this._running=!1,this._tv&&clearInterval(this._tv)}}),e.register({id:"space-falcon",name:"Space Falcon",emoji:"üöÄ",category:"arcade",has2P:!1,_running:!1,init:function(o,f,h){var c=400,y=500,x=e.makeCanvas(c,y);o.appendChild(x);var u=x.getContext("2d"),v="easy"===h?60:"hard"===h?30:45,p="easy"===h?.8:"hard"===h?2:1,g={x:200},m=[],b=[],S=0,w="easy"===h?5:"hard"===h?2:3,F=0,_=[],C=new d;this._running=!0;var M=this;return e.loop(function(){if(M._running){++F>v&&(b.push({x:20+360*Math.random(),y:-20,speed:p+1.5*Math.random(),wobble:6*Math.random()}),F=0);for(var n=m.length-1;n>=0;n--)if(m[n].y-=7,m[n].y<0)m.splice(n,1);else for(var o=b.length-1;o>=0;o--)if(Math.abs(m[n].x-b[o].x)<18&&Math.abs(m[n].y-b[o].y)<18){C.emit(b[o].x,b[o].y,"#FF6B35",12,5),b.splice(o,1),m.splice(n,1),S++,e.setScore(S),S%10==0&&e.rashidSay(t([S+" aliens! üöÄ","Great shooting!","Space hero! ‚≠ê"]));break}for(var d=b.length-1;d>=0;d--){if(b[d].y+=b[d].speed,b[d].wobble+=.03,b[d].x+=.5*Math.sin(b[d].wobble),b[d].y>y&&(b.splice(d,1),--w<=0))return M._running=!1,void e.endGame(S,S||1);if(Math.abs(g.x-b[d].x)<20&&b[d].y>450&&(C.emit(b[d].x,b[d].y,"#ff4444",8,4),b.splice(d,1),--w<=0))return M._running=!1,void e.endGame(S,S||1)}_.push({x:g.x+8*(Math.random()-.5),y:482,vy:1+2*Math.random(),life:1,r:2+2*Math.random()});for(var f=_.length-1;f>=0;f--)_[f].y+=_[f].vy,_[f].life-=.05,_[f].life<=0&&_.splice(f,1);r(u,c,y,"#000011","#0a0a2a"),s(u,c,y,80),_.forEach(function(e){u.globalAlpha=.6*e.life;var t=e.life>.5?"#FFD700":"#FF6B35";u.fillStyle=t,u.beginPath(),u.arc(e.x,e.y,e.r*e.life,0,2*Math.PI),u.fill()}),u.globalAlpha=1,m.forEach(function(e){a(u,"#FFD700",10),u.fillStyle="#FFD700",l(u,e.x-2,e.y,4,14,2),u.fill(),i(u)}),b.forEach(function(e){a(u,"#ff4444",6),u.font="24px serif",u.textAlign="center",u.textBaseline="middle",u.fillText("üëæ",e.x,e.y),i(u)}),a(u,"#00C9A7",12),u.font="30px serif",u.textAlign="center",u.fillText("ü¶Ö",g.x,470),i(u),C.tick(u),u.fillStyle="#fff",u.font="13px Inter",u.textAlign="left",u.textBaseline="top";for(var x="",k=0;k<("easy"===h?5:"hard"===h?2:3);k++)x+=k<w?"‚ù§Ô∏è":"üñ§";u.fillText(x,8,8),a(u,"#FFD700",6),u.fillStyle="#FFD700",u.font="bold 16px Orbitron",u.textAlign="right",u.fillText(S,388,10),i(u)}}),this._moveHandler=function(e){var t=x.getBoundingClientRect();g.x=n((e.clientX-t.left)/(t.width/c),20,380)},this._touchHandler=function(e){e.preventDefault();var t=x.getBoundingClientRect();g.x=n((e.touches[0].clientX-t.left)/(t.width/c),20,380)},x.addEventListener("mousemove",this._moveHandler),x.addEventListener("touchmove",this._touchHandler),x.onclick=function(){m.push({x:g.x,y:450})},x.ontouchstart=function(e){e.preventDefault(),m.push({x:g.x,y:450})},{}},destroy:function(){this._running=!1}}),e.register({id:"gold-rush",name:"Gold Rush",emoji:"üí∞",category:"arcade",has2P:!1,_running:!1,_tv:null,init:function(f,h,c){var y=400,x=500,u=e.makeCanvas(y,x);f.appendChild(u);var v=u.getContext("2d"),p="easy"===c?60:"hard"===c?30:45,g="easy"===c?.1:"hard"===c?.3:.2,m={x:200,w:"easy"===c?70:"hard"===c?40:50},b=[],S=0,w=p,F=new d,_=0;this._running=!0;var C=this;return e.loop(function(){if(C._running){var n;Math.random()<.04&&(n=Math.random()<g,b.push({x:20+360*Math.random(),y:-20,speed:2+2*Math.random(),bomb:n,emoji:n?"üí£":t(["üí∞","üíé","ü™ô"]),rot:0}));for(var d=b.length-1;d>=0;d--)if(b[d].y+=b[d].speed,b[d].rot+=.03,b[d].y>455&&Math.abs(b[d].x-m.x)<m.w/2+12){if(b[d].bomb)S=Math.max(0,S-5),e.setScore(S),e.rashidSay("Boom! üí• -5 points"),F.emit(b[d].x,455,"#ff4444",15,5),_=8;else{var f="üíé"===b[d].emoji?3:"üí∞"===b[d].emoji?2:1;S+=f,e.setScore(S),F.emit(b[d].x,455,"#FFD700",8,3)}b.splice(d,1)}else b[d].y>x&&b.splice(d,1);r(v,y,x,"#1a0a00","#0d1b2a"),s(v,y,x,30),b.forEach(function(e){v.save(),v.translate(e.x,e.y),v.rotate(.2*Math.sin(e.rot)),e.bomb?a(v,"#ff4444",8):a(v,"#FFD700",8),v.font="22px serif",v.textAlign="center",v.textBaseline="middle",v.fillText(e.emoji,0,0),i(v),v.restore()}),a(v,"#FFD700",12);var h=v.createLinearGradient(m.x-m.w/2,0,m.x+m.w/2,0);h.addColorStop(0,"#CC9900"),h.addColorStop(.5,"#FFD700"),h.addColorStop(1,"#CC9900"),v.fillStyle=h,l(v,m.x-m.w/2,460,m.w,22,5),v.fill(),i(v),F.tick(v),_>0&&(v.fillStyle="rgba(255,50,50,"+_/8*.2+")",v.fillRect(0,0,y,x),_--),o(v,15,12,370,10,w/p,"#FF6B35","#FFD700"),a(v,"#FFD700",6),v.fillStyle="#FFD700",v.font="bold 18px Orbitron",v.textAlign="center",v.fillText(S,200,42),i(v),v.fillStyle="rgba(255,255,255,0.4)",v.font="11px Inter",v.fillText(w+"s",200,56)}}),this._moveHandler=function(e){var t=u.getBoundingClientRect();m.x=n((e.clientX-t.left)/(t.width/y),25,375)},u.addEventListener("mousemove",this._moveHandler),u.addEventListener("touchmove",function(e){e.preventDefault();var t=u.getBoundingClientRect();m.x=n((e.touches[0].clientX-t.left)/(t.width/y),25,375)}),this._tv=setInterval(function(){--w<=0&&(C._running=!1,clearInterval(C._tv),e.endGame(S,S||1))},1e3),{}},destroy:function(){this._running=!1,this._tv&&clearInterval(this._tv)}}),e.register({id:"camel-race",name:"Camel Race",emoji:"üê™",category:"arcade",has2P:!0,_running:!1,init:function(t,n,r){var a="easy"===r?400:"hard"===r?200:300,i="easy"===r?3:"hard"===r?7:5,l=document.createElement("div");l.className="gflex-col gw100",l.style.maxWidth="520px",l.innerHTML='<div style="text-align:center;margin-bottom:14px"><div style="color:#FFD700;font:bold 20px Orbitron">üèÅ CAMEL RACE üèÅ</div><div style="color:rgba(255,255,255,0.5);font:12px Inter;margin-top:4px">Tap your button as fast as you can!</div></div><div style="margin-bottom:8px;background:rgba(255,255,255,0.05);border-radius:8px;padding:8px 12px"><div style="display:flex;align-items:center;margin-bottom:6px"><span style="color:#FFD700;font:bold 12px Orbitron;width:30px">P1</span><div style="flex:1;height:14px;background:rgba(255,215,0,0.1);border-radius:7px;overflow:hidden;margin:0 8px"><div id="bar1" style="height:100%;width:0%;background:linear-gradient(90deg,#FFD700,#FF6B35);border-radius:7px;transition:width 0.1s"></div></div><span style="font-size:1.4rem">üê™</span></div><div style="display:flex;align-items:center"><span style="color:#00C9A7;font:bold 12px Orbitron;width:30px">'+("2p"===n?"P2":"AI")+'</span><div style="flex:1;height:14px;background:rgba(0,201,167,0.1);border-radius:7px;overflow:hidden;margin:0 8px"><div id="bar2" style="height:100%;width:0%;background:linear-gradient(90deg,#00C9A7,#4ecdc4);border-radius:7px;transition:width 0.1s"></div></div><span style="font-size:1.4rem">üê´</span></div></div><div style="position:relative;width:100%;height:180px;background:linear-gradient(180deg,rgba(194,147,90,0.15),rgba(10,10,18,0.8));border-radius:14px;border:2px solid rgba(255,215,0,0.15);overflow:hidden;margin-bottom:10px" id="raceTrack"><div style="position:absolute;left:0;right:0;top:50%;height:2px;background:rgba(255,255,255,0.05)"></div><div style="position:absolute;right:12px;top:0;bottom:0;width:4px;background:linear-gradient(180deg,#FFD700,#FF6B35);border-radius:2px"></div><div id="camel1" style="position:absolute;top:35px;left:10px;font-size:2.2rem;transition:left 0.1s;filter:drop-shadow(0 0 6px rgba(255,215,0,0.4))">üê™</div><div id="camel2" style="position:absolute;top:110px;left:10px;font-size:2.2rem;transition:left 0.1s;filter:drop-shadow(0 0 6px rgba(0,201,167,0.4))">üê´</div></div><div style="display:flex;gap:10px"><button class="gbtn gbtn-gold" id="raceBtn1" style="flex:1;padding:22px 10px;font:bold 16px Orbitron;border-radius:14px">üê™ TAP!</button><button class="gbtn gbtn-teal" id="raceBtn2" style="flex:1;padding:22px 10px;font:bold 16px Orbitron;border-radius:14px">'+("2p"===n?"üê´ TAP!":"üê´ Rashid")+"</button></div>",t.appendChild(l);var o=0,d=0,f=430,s=!1,h=l.querySelector("#camel1"),c=l.querySelector("#camel2"),y=l.querySelector("#bar1"),x=l.querySelector("#bar2");this._running=!0;var u=this;function v(){y.style.width=Math.min(o/f*100,100)+"%",x.style.width=Math.min(d/f*100,100)+"%"}return l.querySelector("#raceBtn1").onclick=function(){s||(o+=8+5*Math.random(),h.style.left=Math.min(o,f)+"px",v(),o>=f&&(s=!0,u._running=!1,e.rashidSay("Player 1 wins! üèÜüê™"),e.endGame(1,1)))},"2p"===n?l.querySelector("#raceBtn2").onclick=function(){s||(d+=8+5*Math.random(),c.style.left=Math.min(d,f)+"px",v(),d>=f&&(s=!0,u._running=!1,e.rashidSay("Player 2 wins! üèÜüê´"),e.endGame(1,1)))}:this._iv=setInterval(function(){s||(d+=i+4*Math.random(),c.style.left=Math.min(d,f)+"px",v(),d>=f&&(s=!0,u._running=!1,clearInterval(u._iv),e.rashidSay("Rashid wins! üê´üí®"),e.endGame(0,1)))},a),{}},destroy:function(){this._running=!1,this._iv&&clearInterval(this._iv)}}),e.register({id:"sand-storm",name:"Sand Storm Dodge",emoji:"‚õàÔ∏è",category:"arcade",has2P:!1,_running:!1,_tv:null,init:function(t,l,d){var f=400,s=400,h=e.makeCanvas(f,s);t.appendChild(h);var c=h.getContext("2d"),y="easy"===d?30:"hard"===d?60:45,x="easy"===d?.025:"hard"===d?.06:.04,u="easy"===d?1.5:"hard"===d?3.5:2,v={x:200,y:200},p={},g=[],m=y,b=0,S=[],w=[];this._running=!0;var F=this;return this._keyHandler=function(e){p[e.key]="keydown"===e.type},document.addEventListener("keydown",this._keyHandler),document.addEventListener("keyup",this._keyHandler),e.loop(function(){if(F._running){var t;Math.random()<x&&(t=Math.random()<.5,g.push({x:t?-30:430,y:30+340*Math.random(),vx:t?u+3*Math.random():-(u+3*Math.random()),r:20+15*Math.random(),rot:6*Math.random()}));var l=3.5;(p.ArrowUp||p.w)&&(v.y-=l),(p.ArrowDown||p.s)&&(v.y+=l),(p.ArrowLeft||p.a)&&(v.x-=l),(p.ArrowRight||p.d)&&(v.x+=l),v.x=n(v.x,15,385),v.y=n(v.y,15,385),w.push({x:v.x,y:v.y,life:1}),w.length>12&&w.shift(),Math.random()<.2&&S.push({x:Math.random()*f,y:-5,vx:2*(Math.random()-.3),vy:1+2*Math.random(),life:1});for(var d=S.length-1;d>=0;d--){var h=S[d];h.x+=h.vx,h.y+=h.vy,h.life-=.01,(h.y>s||h.life<=0)&&S.splice(d,1)}for(var _=g.length-1;_>=0;_--)if(g[_].x+=g[_].vx,g[_].rot+=.02,g[_].x<-50||g[_].x>450)g.splice(_,1);else if(Math.abs(v.x-g[_].x)<.8*g[_].r&&Math.abs(v.y-g[_].y)<.8*g[_].r)return F._running=!1,void e.endGame(b,y);r(c,f,s,"#2a1a08","#0d0a06"),S.forEach(function(e){c.globalAlpha=.3*e.life,c.fillStyle="#C4935A",c.fillRect(e.x,e.y,1.5,1.5)}),c.globalAlpha=1;var C=c.createLinearGradient(0,380,0,s);C.addColorStop(0,"#C4935A"),C.addColorStop(1,"#8B6914"),c.fillStyle=C,c.fillRect(0,380,f,20),w.forEach(function(e,t){var n=(t+1)/w.length*.2;c.globalAlpha=n,c.font="20px serif",c.textAlign="center",c.fillText("üèÉ",e.x,e.y+8)}),c.globalAlpha=1,g.forEach(function(e){c.save(),c.translate(e.x,e.y),c.rotate(e.rot),a(c,"rgba(194,147,90,0.6)",15),c.fillStyle="rgba(194,147,90,0.45)",c.beginPath(),c.arc(0,0,e.r,0,2*Math.PI),c.fill(),c.beginPath(),c.arc(.3*e.r,.3*-e.r,.6*e.r,0,2*Math.PI),c.fill(),i(c),c.font=.8*e.r+"px serif",c.textAlign="center",c.textBaseline="middle",c.fillText("üå™Ô∏è",0,0),c.restore()}),a(c,"#00C9A7",10),c.font="26px serif",c.textAlign="center",c.fillText("üèÉ",v.x,v.y+8),i(c),o(c,15,12,370,10,m/y,"#00C9A7","#4ecdc4"),a(c,"#FFD700",6),c.fillStyle="#FFD700",c.font="bold 14px Orbitron",c.textAlign="right",c.fillText("Survive: "+m+"s",385,38),i(c)}}),this._tv=setInterval(function(){m--,b=y-m,m<=0&&(F._running=!1,clearInterval(F._tv),e.endGame(y,y),e.rashidSay("You survived! Amazing! üèÜ"))},1e3),{}},destroy:function(){this._running=!1,this._keyHandler&&(document.removeEventListener("keydown",this._keyHandler),document.removeEventListener("keyup",this._keyHandler)),this._tv&&clearInterval(this._tv)}})}();