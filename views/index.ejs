<%- include('partials/header') %>

<!-- ===== SPLASH / INTRO SCREEN ===== -->
<div class="splash-overlay" id="splashOverlay">
  <div class="splash-bg"></div>
  <div class="splash-particles">
    <span class="splash-particle" style="left:10%; animation-delay:0s;"></span>
    <span class="splash-particle" style="left:30%; animation-delay:0.5s;"></span>
    <span class="splash-particle" style="left:50%; animation-delay:1s;"></span>
    <span class="splash-particle" style="left:70%; animation-delay:1.5s;"></span>
    <span class="splash-particle" style="left:90%; animation-delay:2s;"></span>
  </div>

  <div class="splash-content" id="splashContent">
    <!-- Step 1: Welcome -->
    <div class="splash-step active" id="splashStep1">
      <div class="splash-flag">ğŸ‡¦ğŸ‡ª</div>
      <h1 class="splash-title">UAE Culture<br><span class="gold">Learning Kids</span></h1>
      <p class="splash-text" data-i18n="splashWelcome">Welcome, young explorer! You are about to go on an amazing journey through the United Arab Emirates!</p>
      <button class="btn btn-primary btn-lg splash-btn" onclick="nextSplashStep(2)" data-i18n-html="letsGo">
        LET'S GO! ğŸš€
      </button>
      <button class="splash-voice-btn" onclick="speakText(t('splashWelcome'))">
        ğŸ”Š Listen
      </button>
    </div>

    <!-- Step 2: What you'll learn -->
    <div class="splash-step" id="splashStep2">
      <h2 class="splash-step-title"><span data-i18n="whatYouDiscover">What You'll</span> <span class="gold" data-i18n="discover">Discover</span></h2>
      <div class="splash-features">
        <div class="splash-feature" style="animation-delay:0.1s">
          <div class="splash-feature-icon">ğŸ—ï¸</div>
          <div class="splash-feature-text">
            <strong data-i18n="famousLandmarks">Famous Landmarks</strong>
            <span data-i18n="landmarksDesc">Burj Khalifa, Sheikh Zayed Mosque, and more!</span>
          </div>
        </div>
        <div class="splash-feature" style="animation-delay:0.2s">
          <div class="splash-feature-icon">ğŸ¦…</div>
          <div class="splash-feature-text">
            <strong data-i18n="ancientTraditions">Ancient Traditions</strong>
            <span data-i18n="traditionsDesc">Falconry, pearl diving, camel racing</span>
          </div>
        </div>
        <div class="splash-feature" style="animation-delay:0.3s">
          <div class="splash-feature-icon">ğŸ›</div>
          <div class="splash-feature-text">
            <strong data-i18n="traditionalFood">Traditional Food</strong>
            <span data-i18n="foodDesc">Machboos, Luqaimat, and delicious dishes</span>
          </div>
        </div>
        <div class="splash-feature" style="animation-delay:0.4s">
          <div class="splash-feature-icon">ğŸ“–</div>
          <div class="splash-feature-text">
            <strong data-i18n="arabicWordsTitle">Arabic Words</strong>
            <span data-i18n="arabicDesc">Learn how to say Hello, Thank you, and more!</span>
          </div>
        </div>
      </div>
      <button class="btn btn-primary btn-lg splash-btn" onclick="nextSplashStep(3)" data-i18n="whatElse">WHAT ELSE? â†’</button>
      <button class="splash-voice-btn" onclick="speakText(t('splashWelcome'))">
        ğŸ”Š Listen
      </button>
    </div>

    <!-- Step 3: How it works -->
    <div class="splash-step" id="splashStep3">
      <h2 class="splash-step-title"><span data-i18n="howItWorks">How It</span> <span class="gold" data-i18n="works">Works</span></h2>
      <div class="splash-how">
        <div class="splash-how-item">
          <div class="splash-how-number">1</div>
          <div class="splash-how-text">
            <strong data-i18n="readLearn">Read & Learn</strong>
            <span data-i18n="readLearnDesc">Each page teaches you cool facts with a voice that reads to you!</span>
          </div>
        </div>
        <div class="splash-how-item">
          <div class="splash-how-number">2</div>
          <div class="splash-how-text">
            <strong data-i18n="playGames">Play Games</strong>
            <span data-i18n="playGamesDesc">Quizzes, scrambles, matching, true/false â€” 8 different games!</span>
          </div>
        </div>
        <div class="splash-how-item">
          <div class="splash-how-number">3</div>
          <div class="splash-how-text">
            <strong data-i18n="levelUp">Level Up!</strong>
            <span data-i18n="levelUpDesc">Earn XP, keep your streak, unlock badges, and become a Legend!</span>
          </div>
        </div>
      </div>
      <button class="btn btn-primary btn-lg splash-btn" onclick="nextSplashStep(4)" data-i18n="almostReady">ALMOST READY! â†’</button>
      <button class="splash-voice-btn" onclick="speakText(t('readLearnDesc'))">
        ğŸ”Š Listen
      </button>
    </div>

    <!-- Step 4: Enter your name -->
    <div class="splash-step" id="splashStep4">
      <h2 class="splash-step-title"><span data-i18n="whatsYourName">What's Your</span> <span class="gold" data-i18n="name">Name</span>?</h2>
      <p class="splash-text" data-i18n="namePrompt">Tell us your name so we can track your progress!</p>
      <input type="text" id="splashName" class="splash-name-input" data-i18n="namePlaceholder" placeholder="Type your name here..." maxlength="20" autofocus>
      <button class="btn btn-primary btn-lg splash-btn" onclick="enterGame()" data-i18n="startExploring">
        START EXPLORING! ğŸŒ
      </button>
      <button class="splash-voice-btn" onclick="speakText(t('namePrompt'))">
        ğŸ”Š Listen
      </button>
    </div>
  </div>

  <!-- Progress dots -->
  <div class="splash-dots">
    <div class="splash-dot active" data-step="1"></div>
    <div class="splash-dot" data-step="2"></div>
    <div class="splash-dot" data-step="3"></div>
    <div class="splash-dot" data-step="4"></div>
  </div>
</div>

<!-- ===== MAIN PAGE (hidden until splash done) ===== -->
<div id="mainPage" style="display:none;">

<!-- HERO -->
<section class="hero">
  <div class="hero-bg"></div>
  <div class="hero-overlay"></div>
  <div class="hero-particles">
    <span class="hero-particle" style="left:10%; animation-delay:0s;"></span>
    <span class="hero-particle" style="left:25%; animation-delay:0.8s;"></span>
    <span class="hero-particle" style="left:40%; animation-delay:1.6s;"></span>
    <span class="hero-particle" style="left:55%; animation-delay:2.4s;"></span>
    <span class="hero-particle" style="left:70%; animation-delay:3.2s;"></span>
    <span class="hero-particle" style="left:85%; animation-delay:4s;"></span>
  </div>

  <div class="hero-content">
    <div class="hero-badge">ğŸŒ <span data-i18n="welcomeBack">WELCOME BACK,</span> <span id="heroPlayerName">EXPLORER</span></div>
    <h1 class="hero-title">
      <span class="gold" data-i18n="heroTitle1">UAE CULTURE</span><br><span data-i18n="heroTitle2">LEARNING KIDS</span>
    </h1>
    <p class="hero-subtitle" data-i18n="heroSubtitle">
      Follow the learning path below â€” earn XP, unlock badges, and become a UAE Legend!
    </p>
    <div class="hero-stats">
      <div class="hero-stat">
        <div class="hero-stat-value">10</div>
        <div class="hero-stat-label" data-i18n="games">GAMES</div>
      </div>
      <div class="hero-stat">
        <div class="hero-stat-value">50+</div>
        <div class="hero-stat-label" data-i18n="questions">QUESTIONS</div>
      </div>
      <div class="hero-stat">
        <div class="hero-stat-value">16</div>
        <div class="hero-stat-label" data-i18n="arabicWords">ARABIC WORDS</div>
      </div>
      <div class="hero-stat">
        <div class="hero-stat-value">10</div>
        <div class="hero-stat-label" data-i18n="badges">BADGES</div>
      </div>
    </div>
  </div>
  <div class="hero-scroll"><span></span></div>
</section>

<!-- LEARNING PATH -->
<section class="section" id="gamesSection">
  <div class="section-inner section-center">
    <div class="section-badge">ğŸ—ºï¸ <span data-i18n="yourLearningPath">YOUR LEARNING PATH</span></div>
    <h2 class="section-title"><span data-i18n="followThe">Follow the</span> <span class="gold" data-i18n="journey">Journey</span></h2>
    <p class="section-subtitle" data-i18n="pathSubtitle">Complete each step to unlock the next. Learn first, then test your skills!</p>

    <div class="learning-path" id="learningPath">
      <!-- Unit 1: UAE Basics -->
      <div class="path-unit">
        <div class="path-unit-label" data-i18n="unit1">UNIT 1 â€” UAE BASICS</div>
        <div class="path-row path-row-left">
          <a class="path-node" data-node="landmarks" href="/landmarks">
            <div class="path-node-icon">ğŸ—ï¸</div>
            <div class="path-node-label" data-i18n="landmarksLabel">Landmarks</div>
            <div class="path-node-type" data-i18n="learn">LEARN</div>
            <div class="path-node-check">âœ“</div>
          </a>
          <div class="path-connector"></div>
          <a class="path-node" data-node="traditions" href="/traditions">
            <div class="path-node-icon">ğŸ¦…</div>
            <div class="path-node-label" data-i18n="traditionsLabel">Traditions</div>
            <div class="path-node-type" data-i18n="learn">LEARN</div>
            <div class="path-node-check">âœ“</div>
          </a>
        </div>
      </div>

      <!-- Unit 2: Flavors -->
      <div class="path-unit">
        <div class="path-unit-label" data-i18n="unit2">UNIT 2 â€” FLAVORS & LANGUAGE</div>
        <div class="path-row path-row-right">
          <a class="path-node" data-node="food" href="/food">
            <div class="path-node-icon">ğŸ›</div>
            <div class="path-node-label" data-i18n="foodLabel">Food</div>
            <div class="path-node-type" data-i18n="learn">LEARN</div>
            <div class="path-node-check">âœ“</div>
          </a>
          <div class="path-connector"></div>
          <a class="path-node" data-node="arabic" href="/arabic">
            <div class="path-node-icon">ğŸ“–</div>
            <div class="path-node-label" data-i18n="arabicLabel">Arabic</div>
            <div class="path-node-type" data-i18n="play">PLAY</div>
            <div class="path-node-check">âœ“</div>
          </a>
        </div>
      </div>

      <!-- Unit 3: Challenge -->
      <div class="path-unit">
        <div class="path-unit-label" data-i18n="unit3">UNIT 3 â€” QUIZ TIME</div>
        <div class="path-row path-row-left">
          <a class="path-node" data-node="quiz" href="/quiz">
            <div class="path-node-icon">ğŸ§ </div>
            <div class="path-node-label" data-i18n="cultureQuiz">Culture Quiz</div>
            <div class="path-node-type" data-i18n="quiz">QUIZ</div>
            <div class="path-node-check">âœ“</div>
          </a>
          <div class="path-connector"></div>
          <a class="path-node" data-node="matching" href="/matching">
            <div class="path-node-icon">ğŸƒ</div>
            <div class="path-node-label" data-i18n="matchCards">Match Cards</div>
            <div class="path-node-type" data-i18n="play">PLAY</div>
            <div class="path-node-check">âœ“</div>
          </a>
        </div>
      </div>

      <!-- Unit 4: Word Games -->
      <div class="path-unit">
        <div class="path-unit-label" data-i18n="unit4">UNIT 4 â€” WORD GAMES</div>
        <div class="path-row path-row-right">
          <a class="path-node" data-node="fill-blank" href="/fill-blank">
            <div class="path-node-icon">ğŸ“</div>
            <div class="path-node-label" data-i18n="fillBlank">Fill Blank</div>
            <div class="path-node-type" data-i18n="play">PLAY</div>
            <div class="path-node-check">âœ“</div>
          </a>
          <div class="path-connector"></div>
          <a class="path-node" data-node="scramble" href="/scramble">
            <div class="path-node-icon">ğŸ”¤</div>
            <div class="path-node-label" data-i18n="scramble">Scramble</div>
            <div class="path-node-type" data-i18n="play">PLAY</div>
            <div class="path-node-check">âœ“</div>
          </a>
        </div>
      </div>

      <!-- Unit 5: Speed & Listen -->
      <div class="path-unit">
        <div class="path-unit-label" data-i18n="unit5">UNIT 5 â€” SPEED & LISTEN</div>
        <div class="path-row path-row-left">
          <a class="path-node" data-node="true-false" href="/true-false">
            <div class="path-node-icon">âš¡</div>
            <div class="path-node-label" data-i18n="trueFalse">True/False</div>
            <div class="path-node-type" data-i18n="speed">SPEED</div>
            <div class="path-node-check">âœ“</div>
          </a>
          <div class="path-connector"></div>
          <a class="path-node" data-node="listening" href="/listening">
            <div class="path-node-icon">ğŸ‘‚</div>
            <div class="path-node-label" data-i18n="listening">Listening</div>
            <div class="path-node-type" data-i18n="listen">LISTEN</div>
            <div class="path-node-check">âœ“</div>
          </a>
        </div>
      </div>

      <!-- Unit 6: History -->
      <div class="path-unit">
        <div class="path-unit-label" data-i18n="unit6">UNIT 6 â€” HISTORY</div>
        <div class="path-row path-row-right">
          <a class="path-node" data-node="timeline" href="/timeline">
            <div class="path-node-icon">ğŸ“œ</div>
            <div class="path-node-label" data-i18n="timelineLabel">Timeline</div>
            <div class="path-node-type" data-i18n="sort">SORT</div>
            <div class="path-node-check">âœ“</div>
          </a>
        </div>
      </div>

      <!-- Finish line -->
      <div class="path-finish">
        <div class="path-finish-icon">ğŸ†</div>
        <div class="path-finish-label" data-i18n="uaeLegend">UAE LEGEND</div>
      </div>
    </div>
  </div>
</section>

<!-- BADGES -->
<section class="section badges-section">
  <div class="section-inner section-center">
    <div class="section-badge">ğŸ… <span data-i18n="achievements">ACHIEVEMENTS</span></div>
    <h2 class="section-title"><span data-i18n="your">Your</span> <span class="gold" data-i18n="badgesTitle">Badges</span></h2>
    <p class="section-subtitle" data-i18n="badgesSubtitle">Complete challenges to unlock all 10 badges!</p>

    <div class="badges-grid" id="badgesGrid">
      <!-- Rendered by learning-path.js -->
    </div>
  </div>
</section>

<!-- FACTS -->
<section class="section facts-section">
  <div class="section-inner section-center">
    <div class="section-badge">ğŸ¤” <span data-i18n="didYouKnow">DID YOU KNOW?</span></div>
    <h2 class="section-title" data-i18n="funFacts">Fun Facts</h2>
    <div class="facts-carousel" id="factsCarousel">
      <div class="fact-card active">
        <div class="fact-emoji">ğŸ—ï¸</div>
        <p>The Burj Khalifa is so tall, you can watch the sunset from the base, take the elevator to the top, and watch the sunset AGAIN!</p>
      </div>
      <div class="fact-card">
        <div class="fact-emoji">ğŸ¦…</div>
        <p>Falcons in the UAE have their own passports! They can travel on planes in first class!</p>
      </div>
      <div class="fact-card">
        <div class="fact-emoji">ğŸœï¸</div>
        <p>The UAE's Liwa Oasis has sand dunes over 300 meters tall â€” taller than the Eiffel Tower!</p>
      </div>
      <div class="fact-card">
        <div class="fact-emoji">ğŸŒ´</div>
        <p>The UAE has over 42 million date palm trees â€” that's about 5 trees for every person!</p>
      </div>
      <div class="fact-card">
        <div class="fact-emoji">ğŸ‡¦ğŸ‡ª</div>
        <p>The UAE was formed on December 2nd, 1971, when 7 emirates united under one flag!</p>
      </div>
    </div>
    <div class="facts-dots" id="factsDots"></div>
  </div>
</section>

<div class="cta-section">
  <div class="section-badge">ğŸš€ <span data-i18n="ready">READY?</span></div>
  <h2 class="section-title" style="text-align:center; margin-bottom:20px;" data-i18n="startLearningNow">Start Learning Now</h2>
  <a href="/landmarks" class="btn btn-primary btn-lg" data-i18n="beginWithLandmarks">BEGIN WITH LANDMARKS ğŸ—ï¸</a>
</div>

</div><!-- end mainPage -->

<script src="/js/learning-path.js"></script>
<script src="/js/splash.js"></script>
<%- include('partials/footer') %>
